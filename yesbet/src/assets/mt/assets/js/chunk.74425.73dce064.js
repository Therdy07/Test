"use strict";(self["SRWP-sir-buildingblocks"]=self["SRWP-sir-buildingblocks"]||[]).push([[74425],{702447:function(e,r,a){var t=a(823059);var n=a(809534);var i=a(611955);var s=a(279427);var f=a(746279);var o=a(562857);var l=a(257396);var d=a(541910);var u=a(564836);r.__esModule=true;r.getGenericFeedAsyncPropDef=r.getEventlistAsyncPropDef=r["default"]=void 0;r.getPVROverrides=A;r.getRecordingsAsyncPropDef=void 0;var v=u(a(238416));var c=u(a(627424));var g=u(a(61798));var m=u(a(133778));var p=u(a(928427));var h=a(104072);var y=a(859453);function _(e,r){var a=t(e);if(n){var f=n(e);r&&(f=i(f).call(f,(function(r){return s(e,r).enumerable}))),a.push.apply(a,f)}return a}function b(e){for(var r=1;r<arguments.length;r++){var a,t;var n=null!=arguments[r]?arguments[r]:{};r%2?f(a=_(Object(n),!0)).call(a,(function(r){(0,v.default)(e,r,n[r])})):o?l(e,o(n)):f(t=_(Object(n))).call(t,(function(r){d(e,r,s(n,r))}))}return e}function A(e,r){if(!e.pvrEnabled){return undefined}var a=P(e);var t=e.pvrRecordingId,n=e.pvrTargetTimestamp,i=e.pvrOffset,s=e.pvrFixedTimestamp;var f=[];if(t&&!a){f.push(["recordingId",t])}if(!n){}else if(s){f.push(["targetTimestamp",n])}else if(Math.abs(Date.now()-i*1e3-n*1e3)<3e3){f.push(["timestamp",n])}else if(i){f.push(["offset",i])}var o=(0,g.default)(f).call(f,(function(e){var r=(0,c.default)(e,2),a=r[0],t=r[1];return a+"="+encodeURIComponent(t)})).join("&");if(o){if(a){o="&"+o}else{o="?"+o}}var l;if(r==="fn"){l=F.config.defaults.fnUrl;if(a){l=F.config.defaults.fnCompatUrl}}else{throw new Error("PVR type not yet implemented")}return{query:o,url:l}}function P(e){var r;return(0,m.default)(r=e.fishnetPvrUrl).call(r,"/pvr/feeds")}function C(e,r,a,t){var n;var i;if(P(e.getCctx())){n=e._config.fnCompatUrl;var s=(t.feed||"").split("/");var f=s.length>1?s.shift():"gismo";i={feedType:f,feed:s.join("/"),params:t.params||"",query:t.targetTimestamp?"&targetTimestamp="+t.targetTimestamp:""}}e.http({url:n,args:b({params:a},i),success:function e(a){var n=a.data;if(!i){if(n.error){r.fail(n.error.message,n.meta.maxAge*1e3)}else{r.send(n.data,n.meta.maxAge*1e3)}}else{var s=n.doc[0];var f=s.data;delete s.data;s.queryUrl=n.queryUrl;(0,y.updateSharedTimestampOffset)(s);if(f._doc==="exception"){r.fail(f.name+": "+f.message)}else{if(t.feed==="pvr_matches"){var o;f=(0,p.default)(o=(0,g.default)(f).call(f,w)).call(o)}else if(t.feed==="pvr_timelinedelta"){var l;f.recording=w(f.match);f.events=(0,g.default)(l=f.events).call(l,(function(e,r){if(e.event){return b(b({},e),{},{ts:e.ts*1e3})}else{return b(b({},e),{},{event:{_id:r,type:e.types}})}}))}r.send(f,s._maxage*1e3,s)}}}})}function w(e){return{sourceId:e._id,sourceStatus:"",sportId:e._sid,recordingStatus:"",keep:false,name:e.name,comment:e.comment,startTime:e.starts_at*1e3,recordingId:e._id,sourceStatusId:"",type:"match"}}var F={name:"fishnetpvr",config:{defaults:{url:"{fishnetPvrUrl}/rar/{params}",fnUrl:"{fishnetPvrUrl}/fn/{fishnetClientAlias}/en/Europe:Berlin/{feedType}/{feed}/{params}{query}",fnCompatUrl:"{fishnetPvrUrl}/{fishnetClientAlias}/en/Europe:Berlin/{feedType}/{feed}/{params}{query}"}},impl:{recordings:function e(r,a){C(r,a,"recordings",{feed:"pvr_matches"})},eventlist:function e(r,a){if(!r.args.recordingId){return a.fail("Recording Id not set!")}C(r,a,"events/"+r.args.recordingId,{feed:"pvr_timelinedelta",params:r.args.recordingId})},generic:function e(r,a){throw new Error("No implemented")}}};var D=F;r["default"]=D;var x=(0,h.createAsyncPropDefinitionFactory)(F,"recordings");r.getRecordingsAsyncPropDef=x;var U=(0,h.createAsyncPropDefinitionFactory)(F,"eventlist",["recordingId"]);r.getEventlistAsyncPropDef=U;var z=(0,h.createAsyncPropDefinitionFactory)(F,"generic",["offset","targetUts","feed","params"],false,[["offset","targetUts"],"feed"]);r.getGenericFeedAsyncPropDef=z},74425:function(e,r,a){var t=a(823059);var n=a(809534);var i=a(611955);var s=a(279427);var f=a(746279);var o=a(562857);var l=a(257396);var d=a(541910);var u=a(564836);r.__esModule=true;r.createRequestObject=Y;r.getProbabilityFeedAsyncPropDef=r.getFishnetParamlessFeedAsyncPropDef=r.getFishnetFeedAsyncPropDef=r["default"]=void 0;r.handleXhrSuccess=X;var v=u(a(670215));var c=u(a(238416));var g=u(a(746279));var m=u(a(823059));var p=u(a(541910));var h=u(a(952527));var y=u(a(496507));var _=u(a(562857));var b=u(a(563383));var A=a(104072);var P=u(a(27440));var C=u(a(423899));var w=a(215951);var F=a(226265);var D=u(a(406156));var x=a(558745);var U=a(702447);var z=a(324469);var T=a(859453);var k=u(a(439198));var I=["useProbabilityClient"];function O(e,r){var a=t(e);if(n){var f=n(e);r&&(f=i(f).call(f,(function(r){return s(e,r).enumerable}))),a.push.apply(a,f)}return a}function M(e){for(var r=1;r<arguments.length;r++){var a,t;var n=null!=arguments[r]?arguments[r]:{};r%2?f(a=O(Object(n),!0)).call(a,(function(r){(0,c.default)(e,r,n[r])})):o?l(e,o(n)):f(t=O(Object(n))).call(t,(function(r){d(e,r,s(n,r))}))}return e}var q="common";var E="en";var R="Etc:UTC";var j="feed-forwarded-from-original-server";var S={event_get:1,odds_ukformat:1,rss_news:1,stats_tournament_wcfinals:1,get_events:1};var V=function(){var e=q;var r=E;var a=R;return{ads_get:{fishnetClientAlias:e,timezone:a},client_subpackages:{timezone:a,language:r},match_situation:{fishnetClientAlias:e,language:r,timezone:a},rss_news:{timezone:a,language:r},stats_match_situation:{fishnetClientAlias:e,language:r,timezone:a},stats_season_leaguesummary:{fishnetClientAlias:e,timezone:a,language:r},stats_team_fifadata:{fishnetClientAlias:e,timezone:a},stats_tournament_wcfinals:{timezone:a},twitter_match:{fishnetClientAlias:e,timezone:a,language:r},twitter_search:{fishnetClientAlias:e,timezone:a,language:r},get_event:{fishnetClientAlias:e,timezone:a,language:r},get_events:{fishnetClientAlias:e,timezone:a,language:r},get_scorecard:{fishnetClientAlias:e,timezone:a,language:r}}}();var W={bet_get:1,match_bookmakerodds:1,match_bookmaker_liveodds:1,match_bookmaker_prematchodds:1,season_bookmakerodds:1,tournament_bookmakerodds:1,match_odds:1,stats_season_odds:1,sport_matches_odds:1};var G={match_timeline:1,match_pbp:1};function N(e,r,a,t){var n=(a._maxage||10)*1e3;if(G[e.args.feed]&&t&&t.date){var i=new Date(t.date).getTime();var s=a._dob*1e3;var f=i-s;n=n-f;if(n<3e3){n=3e3}}r.validityMillis=n+500}var B=null&&["name","abbr"];var H,L;if(false){var K}function X(e,r,a,t){var n=a.data;var i=a.headers;var s=n.doc[0];var f=s.data;delete s.data;s.queryUrl=n.queryUrl;s.headers=i;var o=t.actualUrl;(0,T.updateSharedTimestampOffset)(s);if(i&&i[j]&&i[j]==="true"){(0,w.warn)("Feed "+o+" is not recorded on PVR - use with caution")}N(e,r,s,i);if(f._doc==="exception"){J(e,r,f,s,o)}else{Q(e,r,f,s,o)}}function J(e,r,a,t,n){if(a.name==="InvalidArgument"){r.fail(new C.default(n+": "+a.message))}else if(a.name==="Unauthorized"){r.fail(new D.default("Unauthorized feed "+n+": "+a.message,"trans_error_license_feed","feed"))}else{r.fail(new P.default("Exception on "+n+". "+a.name+": "+a.message))}}function Q(e,r,a,t,n){var i=t._deprecated;if(i){var s=i.expires;(0,w.error)("Deprecated feed '"+t.queryUrl+"!"+(s?" Will expire on "+s:""))}if(a&&a.length===0){r.fail(new P.default("Empty response for feed "+n))}else{var f=e.args.feed;if(false){var o}r.send(a,null,t)}}function Y(e,r,a){var t=(0,U.getPVROverrides)(e.getCctx(),"fn");return{args:t?M(M({},a),{},{query:t.query}):a,url:t?t.url:undefined,extractHeaders:t?["date",j]:undefined,success:function a(t,n){X(e,r,t,n)}}}var Z={name:"fishnet",config:{feeds:{generic:{url:"{fishnetFeedsUrl}/{fishnetClientAlias}/{language}/{timezone}/{feedType}/{feed}/{params}",extractHeaders:["date"]}}},impl:{generic:function e(r,a){var t=r.getCctx();var n=(r.args.feed||"").split("/");var i=n.length>1?n.shift():"gismo";var s=n.join("/");if(!s){a.fail(new C.default('Missing argument "feed"'));return}var f=V[s]&&M({},V[s]);if(!f){f={};if(!z.nonTzAgnosticFeeds[s]){f.timezone=R}}if(!r.args.params){if(!S[s]){a.fail(new C.default('Missing argument "params" for feed '+s));return}else{f.params=""}}f.feed=s;f.feedType=i;var o=t.fishnetClientAlias,l=t.fishnetMatchIdClientAlias,d=t.fishnetOddsClientAlias,u=t.fishnetProbabilityClientAlias,c=t.language,g=t.forceFishnetClientAlias;var m=g?o:"common";if(r.args.useMatchIdClient){m=l}else if(W[s]){if(r.args.useProbabilityClient){var p=u;if(p==="common"){if(d){p=d}else{p=m}}if(p&&p===d){var h=r.args,y=h.useProbabilityClient,_=(0,v.default)(h,I);r.request("fishnet","generic",(function(e,r,t){if(e){a.fail(e);return}a.setCompositeValidity(t);a.send(r,undefined,t.metaData)}),_);return}m=p}else{if(t.disableOdds){m=null}else{m=d}}if(!m){a.fail("No odds alias");return}}else if(i==="cricket"){m="common"}f.fishnetClientAlias=m;if(F.derivedLocales[c]){f.language=F.derivedLocales[c]}if(z.sportMatchesFeeds[s]){f.timezone=(0,z.getFixedTimezone)(+(0,x.renderDateTimeCctx)(t,(0,k.default)(t),"o")/60)}var b=Y(r,a,f);if(false){var A,P}r.http(b)}}};var $=Z;r["default"]=$;var ee=(0,A.createAsyncPropDefinitionFactory)(Z,"generic",[["feed",undefined],["params",undefined]],false,["feed","params"]);r.getFishnetFeedAsyncPropDef=ee;var re=(0,A.createAsyncPropDefinitionFactory)(Z,"generic",[["feed",undefined],["params",undefined]],false,["feed"]);r.getFishnetParamlessFeedAsyncPropDef=re;var ae=(0,A.createAsyncPropDefinitionFactory)(Z,"generic",[["useProbabilityClient",function(){return true}],["feed",""],["params",""]],false,["feed"]);r.getProbabilityFeedAsyncPropDef=ae},104072:function(e,r,a){var t=a(564836);r.__esModule=true;r.createAsyncPropDefinitionFactory=F;r.ensureProvider=C;r.getKey=A;r.getMissingArgs=_;r.getMissingArgsWithGetters=y;r.getterFactory=b;r.http=void 0;var n=t(a(608065));var i=a(683816);var s=t(a(423899));var f=t(a(810339));var o=t(a(27440));var l=t(a(37016));var d=t(a(625462));var u={props:0,vars:1,ctx:2};var v={};function c(e){return function(){return e}}function g(e,r){return function(){return arguments[e][r]}}function m(e,r,a){return function(){var t=arguments[e][r];return t&&t[a]}}function p(e,r,a,t){return function(){var n=arguments[e][r];var i=n&&n[a];return i&&i[t]}}function h(e,r,a,t){var n;for(var i=0,s=r.length;i<s;++i){var f=r[i];var o=void 0;if(Array.isArray(f)){o=h(e,f,!a,t)}else if(e[f]===undefined){var l=f;var d=t&&t[l];o=d&&d.path||l}if(o){n=n||[];n.push(o)}else if(a){return}}if(n){var u=n.join(a?" or ":" and ");if(n.length>1){u="("+u+")"}return u}return n}function y(e,r,a){return h(e,r,false,a)}function _(e){for(var r=arguments.length,a=new Array(r>1?r-1:0),t=1;t<r;t++){a[t-1]=arguments[t]}var n=y(e,a);if(n){return new s.default("missing "+n)}}function b(e){if(typeof e==="function"){return e}var r=String(e);if(v[r]){return v[r]}var a;var t;var n;if(typeof e==="string"){t=e.split(".");var i=t.shift();a=i?u[i]:undefined;if(a===undefined){n=c(e)}else if(t.length===1){n=g(a,t[0])}else if(t.length===2){n=m(a,t[0],t[1])}else if(t.length===3){n=p(a,t[0],t[1],t[2])}else{throw new Error("Invalid async property path. path must be maximum 3 levels deep (ie. no more than three dots)")}if(a!==undefined){n.path=e}}else{n=c(e)}v[r]=n;return n}function A(e,r,a,t){var n="",i=0;var s=e.length;var f=t.poller;if(t.cctxOverrides){n+=f.toStringConverter.convert(t.cctxOverrides)}if(s){var o;for(;i<s;i++){o=e[i](r,a,t);n+=(i?"-":"")+f.toStringConverter.convert(o)}return n}else{n+="withoutparams"}return n}var P=f.default;r.http=P;function C(e,r,a){e.ensureProvider(r,a)}var w=1;function F(e,r,a){var t=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var f=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var u=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;if(!e||!e.name||!(e.config||e.impl)){throw new Error("Provider obj must contain property 'name' and one of 'feeds' or 'impl'")}var v=[];var c=[];var g=e.name;var m=a&&a.length||0;if(a){for(var p=0;p<m;p++){var h=a[p];var _=void 0;var P=void 0;if(typeof h==="string"){_="props."+h;P=h}else if(h.length===2){P=h[0];_=h[1]}else{throw new Error("Invalid argument mapping in createAsyncPropDefinitionFactory")}v[p]=_;c[p]=P}}var F=f===true?c:f||undefined;var D=g+"-"+r+"-"+w++;return function(a,f){var p;var h=t;if((0,d.default)(a)){p=f;h=a}else{p=a}var _=[];var P={};var w=c;for(var x=0;x<m;x++){var U=v[x];var z=p&&p[c[x]];if(z!==undefined){U=z}P[c[x]]=_[x]=b(U)}if(p&&p.disableAsyncProp){var T;w=(0,n.default)(T=[]).call(T,c,["disableAsyncProp"]);P.disableAsyncProp=_[_.length]=b(p.disableAsyncProp)}return new i.AsyncPropDefinition({id:D,key:function e(r,a,t){return A(_,r,a,t)},subscribe:function a(t,n,i,f,d){var v=f.poller;C(v,f.cctx,e);var c=false;var m=null;var p={};for(var b=0;b<w.length;b++){var A=_[b](n,i,f);if(A!==undefined){p[w[b]]=A}else if(F){c=true}}if((0,l.default)(p,"disableAsyncProp")){if(p.disableAsyncProp){return t(new o.default("disabled"))}delete p.disableAsyncProp}if(c&&F){m=y(p,F,P);if(m){t(new s.default("Missing "+m));return}}var D=d||!h;var x=v[D?"request":"subscribe"]({providerName:g,feed:r,callback:t,args:p,staleResponse:u,reactContext:f});return function(){v.abort(x)}}})}}},625462:function(e,r){r.__esModule=true;r["default"]=a;function a(e){return typeof e==="boolean"}},37016:function(e,r){r.__esModule=true;r["default"]=t;var a=Object.prototype.hasOwnProperty;function t(e,r){return e&&a.call(e,r)||false}}}]);