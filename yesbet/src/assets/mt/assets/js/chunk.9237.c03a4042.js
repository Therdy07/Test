(self["SRWP-sir-buildingblocks"]=self["SRWP-sir-buildingblocks"]||[]).push([[9237],{843810:function(e,r,t){"use strict";var a=t(918698);var n=t(972010);var l=t(541910);var u=t(279427);var s=t(564836);r.__esModule=true;r["default"]=r.SEPARATOR=void 0;var i=s(t(627424));var o=s(t(61798));t(883418);var d=N(t(561454));var f=t(589041);var c=t(712511);var v=t(187159);var m=s(t(955975));var p=s(t(466766));var g=s(t(892612));var h=s(t(730785));var _=s(t(107224));var y=s(t(392224));var E=N(t(727945));var P=s(t(813462));var b=s(t(29476));var w=s(t(236162));var x=s(t(268969));function M(e){if(typeof n!=="function")return null;var r=new n;var t=new n;return(M=function e(a){return a?t:r})(e)}function N(e,r){if(!r&&e&&e.__esModule){return e}if(e===null||a(e)!=="object"&&typeof e!=="function"){return{default:e}}var t=M(r);if(t&&t.has(e)){return t.get(e)}var n={};var s=l&&u;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=s?u(e,i):null;if(o&&(o.get||o.set)){l(n,i,o)}else{n[i]=e[i]}}}n.default=e;if(t){t.set(e,n)}return n}var k="-";r.SEPARATOR=k;var I="goalscorers";var O=(0,f.classNameFactory)(I);var K=function e(r){var t=r.tKey,a=r.spacer;return d.default.createElement(d.default.Fragment,null,a&&d.default.createElement(d.default.Fragment,null,d.default.createElement(E.default,{space:a}),d.default.createElement("span",null,k),d.default.createElement(E.default,{space:a})),d.default.createElement(c.T,{className:"srm-"+b.default.isUppercase,tKey:t}))};var T=function e(r){if(!r||!r.length){return null}return(0,o.default)(r).call(r,(function(e,r){var t;return d.default.createElement("div",{key:r+"P",className:O("period")},d.default.createElement("div",{className:O("period-label")},e.periodLabel),d.default.createElement(E.default,{space:E.spacers.xxs}),d.default.createElement("div",{className:O("period-goals")},(0,o.default)(t=e.goals).call(t,(function(e,t){return d.default.createElement("div",{key:r+"P-"+t+"G",className:O("period-goal")},d.default.createElement("div",{className:O("period-goal-scorer-name")},e.scorer||d.default.createElement(c.T,{tKey:"trans_goal"})),e.time&&d.default.createElement(d.default.Fragment,null,d.default.createElement(E.default,{space:E.spacers.xxxs}),d.default.createElement("div",{className:O("period-goal-time")},"("+e.time+")"),e.penalty&&d.default.createElement(K,{tKey:"trans_penalty_short",spacer:E.spacers.xxs}),e.owngoal&&d.default.createElement(K,{tKey:"trans_og",spacer:E.spacers.xxs})))}))))}))};var S=function e(r,t){if(!r||!r.length||!t){return null}return(0,o.default)(r).call(r,(function(e,r){var a=(0,h.default)(e,t);var n=(0,_.default)(a,t);return d.default.createElement(d.default.Fragment,{key:r},n&&d.default.createElement("div",{key:r,className:O("goal")},d.default.createElement("div",{className:O("goal-time")},n),d.default.createElement(E.default,{space:E.spacers.xxs}),d.default.createElement("div",{className:O("goal-scorer-name")},e.scorer&&e.scorer.name||d.default.createElement(c.T,{tKey:"trans_goal"}),e.penalty&&d.default.createElement(K,{tKey:"trans_penalty_short",spacer:E.spacers.xxs}),e.owngoal&&d.default.createElement(K,{tKey:"trans_og",spacer:E.spacers.xxs}))))}))};function A(e,r){var t=null;if((0,w.default)(r)){var a=(0,g.default)(e,r);t=T(a)}else{t=S(e,r)}return t}var j=function e(r){var t=r.goalScorers,a=r.match,n=r.team,l=r.label,u=r.labelTKey,s=u===void 0?"trans_goals":u,o=r.flipLabel,f=o===void 0?false:o,v=r.flipTooltip,g=v===void 0?false:v,h=r.noDropdownForSingleItem,_=h===void 0?false:h;var E=(0,x.default)(),w=(0,i.default)(E,3),M=w[0],N=w[1],k=w[2];(0,d.useEffect)((function(){k(false)}),[a._id,k]);var I=(0,d.useCallback)((function(){k(!N)}),[k,N]);if(!a||!n||!t){return null}var K=n==="home"?t.homeEvents:t.awayEvents;if(!K||!K.length){return null}var T=A(K,a);if(!T){return null}var S=l||d.default.createElement(c.T,{tKey:s});if(_&&T.length===1){return d.default.createElement("div",{className:O("label-wrapper",P.default.textSecondary,[b.default.isUppercase,f&&"is-reversed","no-hover"]),ref:M},d.default.createElement("div",{className:O("label",null,[b.default.hasEllipsis,!f&&"is-reversed"])},S))}return d.default.createElement(m.default,{key:""+a._id+n,content:T,isOpen:N,direction:g?"down-start":"down-end",distance:-10},d.default.createElement("div",{className:O("label-wrapper",P.default.textSecondary,[b.default.isUppercase,f&&"is-reversed"]),ref:M,onClick:I},d.default.createElement("div",{className:O("label",null,[b.default.hasEllipsis,!f&&"is-reversed"])},S),d.default.createElement(p.default,{className:O("more",P.default.textSecondary),svg:y.default})))};var C=(0,f.asyncContainer)({asyncProps:{goalScorers:(0,v.getGoalscorersAsyncPropDef)(true,{matchId:"props.match._id"})},getError:function e(r){return(0,f.getAsyncPropsError)("trans_error_nodata",r,"goalScorers")}})((0,f.buildingBlock)(I)(j));r["default"]=C},892612:function(e,r,t){"use strict";var a=t(564836);r.__esModule=true;r["default"]=void 0;var n=a(t(600861));var l=a(t(375959));var u=a(t(330170));var s=a(t(911540));var i=function e(r,t){if(!r||!r.length||!t){return null}var a=t._calc;var i=!!(a.periods&&a.periods.ot);var o=!!(a.periods&&a.periods.ap);var d=[];var f=(0,l.default)(r,t);if(f&&f.length){d=(0,n.default)(f)}if(i){var c=(0,u.default)(r,t);c&&c.goals&&c.goals.length&&d.push(c)}if(i&&o){var v=(0,s.default)(r);v&&v.goals&&v.goals.length&&d.push(v)}return d};var o=i;r["default"]=o},330170:function(e,r,t){"use strict";var a=t(564836);r.__esModule=true;r["default"]=void 0;var n=a(t(746279));var l=a(t(561454));var u=t(712511);var s=a(t(730785));var i=a(t(107224));var o=function e(r,t){if(!r||!t){return null}var a=t._calc;if(!a.numberOfPeriods||!a.periodlength){return null}var o=a.numberOfPeriods;var d=a.periodlength;var f=d*o;var c={periodLabel:l.default.createElement(u.T,{tKey:"trans_overtime_short"}),goals:[]};(0,n.default)(r).call(r,(function(e){if(e.time>f&&!e.winningshootout){var r=(0,s.default)(e,t);c.goals.push({time:(0,i.default)(r,t),scorer:e.scorer&&e.scorer.name,penalty:e.penalty,owngoal:e.owngoal})}}));return c};var d=o;r["default"]=d},375959:function(e,r,t){"use strict";var a=t(564836);r.__esModule=true;r["default"]=void 0;var n=a(t(746279));var l=a(t(561454));var u=t(712511);var s=a(t(730785));var i=a(t(107224));var o=60;var d={1:"trans_period_1st_period_short",2:"trans_period_2nd_period_short",3:"trans_period_3rd_period_short",4:"trans_period_4th_period_short"};var f=function e(r,t){if(!r||!t){return null}var a=t._calc;if(!a.numberOfPeriods||!a.periodlength){return null}var f=a.numberOfPeriods;var c=a.periodlength;var v=c*o;var m=c*f;var p=[];var g=function e(a){var f={periodLabel:l.default.createElement(u.T,{tKey:d[a]}),periodNumber:a,goals:[]};(0,n.default)(r).call(r,(function(e){var r=e.seconds!==-1;var n=r?e.seconds:e.time*o;if(n>v*(a-1)&&n<=v*a&&e.time<=m){var l=(0,s.default)(e,t);f.goals.push({time:(0,i.default)(l,t),scorer:e.scorer&&e.scorer.name,penalty:e.penalty,owngoal:e.owngoal})}}));f.goals&&f.goals.length&&p.push(f)};for(var h=1;h<=f;h++){g(h)}return p};var c=f;r["default"]=c},911540:function(e,r,t){"use strict";var a=t(564836);r.__esModule=true;r["default"]=void 0;var n=a(t(746279));var l=a(t(561454));var u=t(712511);var s=function e(r){if(!r){return null}var t={periodLabel:l.default.createElement(u.T,{tKey:"trans_nhl_penalty_shootout_short"}),goals:[]};(0,n.default)(r).call(r,(function(e){if(e.winningshootout&&e.scorer&&e.scorer.name){t.goals.push({time:null,scorer:e.scorer&&e.scorer.name})}}));return t};var i=s;r["default"]=i},236162:function(e,r,t){"use strict";var a=t(564836);r.__esModule=true;r["default"]=void 0;var n=a(t(845286));var l=[4,195];var u=function e(r){return(0,n.default)(l).call(l,(function(e){return e===r._sid}))};var s=u;r["default"]=s},502369:function(e,r,t){"use strict";r.__esModule=true;r["default"]=void 0;var a=t(561454);var n=function e(r,t){(0,a.useEffect)((function(){document.addEventListener(r,t);return function(){return document.removeEventListener(r,t)}}),[r,t])};var l=n;r["default"]=l},268969:function(e,r,t){"use strict";var a=t(564836);r.__esModule=true;r["default"]=void 0;var n=a(t(627424));var l=t(561454);var u=a(t(502369));var s=function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var a=(0,l.useRef)(null);var s=(0,l.useState)(r),i=(0,n.default)(s,2),o=i[0],d=i[1];var f=(0,l.useCallback)((function(e){if(!a.current||!document.documentElement.contains(e.target)||a.current.contains&&a.current.contains(e.target)){return}d(false);t&&t()}),[a,t]);var c=(0,l.useCallback)((function(e){if(e.keyCode===27){d(false);t&&t()}}),[t]);(0,u.default)("click",f);(0,u.default)("touchstart",f);(0,u.default)("keydown",c);return[a,o,d]};var i=s;r["default"]=i},37487:function(e,r,t){"use strict";var a=t(564836);r.__esModule=true;r.getMatchOvertimePeriodsAsyncPropDef=r["default"]=void 0;var n=a(t(823059));var l=a(t(74425));var u=a(t(187159));var s=t(104072);var i={dependantProviders:[l.default,u.default],name:"fishnetMatchOvertimePeriodsProvider",impl:{generic:function e(r,t){var a=r.meta;var s=r.args.matchId;r.requestPromise(u.default.name,"match",{matchId:s,static:true}).then((function(e){var u=e.data,i=e.meta;if(u.status._id===110&&(u._sid===2||u._sid===153)&&u._rcid===15||(u._sid===4||u._sid===195)&&u._rcid===37){var o=r.lastResponse;r.requestPromise(l.default.name,"generic",{feed:"stats_match_get",params:s}).then((function(e){var r=e.data,a=e.meta;var l=r.overtimeperiods;var u=!o||o===false&&l||o&&!l||l&&(0,n.default)(l).length!==(0,n.default)(o).length;if(!u&&l){for(var s in l){if(l.hasOwnProperty(s)){var i=l[s],d=o[s];u=!i&&d||!d&&i||i&&(i.home!==d.home||i.away!==d.away);if(u)break}}}t.setCompositeValidity(a);if(u){if(!l||Array.isArray(l)){t.send(null)}else{t.send(l)}}else{t.postpone()}})).catch((function(e){return t.fail(e)}))}else{t.setCompositeValidity(i);if(a){t.postpone()}else{t.send(null)}}})).catch((function(e){return t.fail(e)}))}}};var o=i;r["default"]=o;var d=(0,s.createAsyncPropDefinitionFactory)(i,"generic",["matchId"],true,true);r.getMatchOvertimePeriodsAsyncPropDef=d},107224:function(e,r,t){"use strict";var a=t(564836);r.__esModule=true;r["default"]=void 0;var n=a(t(845286));var l=a(t(477600));var u="'";var s=[1,137];var i=function e(r){var t=r.time,a=r.injurytime;if(typeof t!=="number"||t===-1){return null}return a?t+"+"+a+u:""+t+u};var o=function e(r){var t=r.minutesInPeriod,a=r.secondsInPeriod;var n=(t||t===0)&&t!==-1;var s=(a||a===0)&&a!==-1;if(!n&&!s){return null}else if(n&&!s){return""+t+u}return t+":"+(0,l.default)(a,2)};var d=function e(r,t){if(!r||!t){return null}var a=r.minutesInPeriod,l=r.secondsInPeriod,u=r.time,d=r.injurytime;if((0,n.default)(s).call(s,(function(e){return e===t._sid}))){return i({time:u,injurytime:d})}return o({minutesInPeriod:a,secondsInPeriod:l})};var f=d;r["default"]=f},730785:function(e,r){"use strict";r.__esModule=true;r.getEventTime=r["default"]=void 0;var t=function e(r,t){if(!r||!t){return null}var a=t._calc;var n=r.seconds!==-1;var l=n?r.seconds:r.time;var u=n?60:1;if(!a.numberOfPeriods||!a.periodlength){return{minutesInPeriod:-1,secondsInPeriod:-1,time:r.time,injurytime:r.injurytime}}var s=a.periodlength*u;var i=a.numberOfPeriods;var o=a.overtimelength?a.overtimelength*u:0;var d=Math.ceil(l/s);var f=d>i?i:d;var c=d>i?Math.ceil((l-s*f)/o):0;var v=-1;if(c>0){v=Math.floor(l%o/u)}else{v=Math.floor((l-s*(f-1))/u)}var m=n?l%u:-1;return{minutesInPeriod:v,secondsInPeriod:m,time:r.time,injurytime:r.injurytime}};r.getEventTime=t;var a=t;r["default"]=a},883418:function(){},392224:function(e){e.exports={svgProps:{viewBox:"0 0 8 8",xmlns:"http://www.w3.org/2000/svg"},svgContent:'<path d="M4 0a4 4 0 110 8 4 4 0 010-8zm0 1a3 3 0 100 6 3 3 0 000-6zm.4.5v2.2h2.1v.7H4.4v2.1h-.8V4.4H1.5v-.7h2.1V1.5h.8z" ill-rule="nonzero" />'}}}]);