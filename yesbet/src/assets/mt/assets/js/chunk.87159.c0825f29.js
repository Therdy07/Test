(self["SRWP-sir-buildingblocks"]=self["SRWP-sir-buildingblocks"]||[]).push([[87159],{480531:function(e,t,r){"use strict";var a=r(823059);var n=r(809534);var i=r(611955);var u=r(279427);var s=r(746279);var o=r(562857);var f=r(257396);var l=r(541910);var d=r(564836);t.__esModule=true;t["default"]=K;var c=d(r(238416));var v=d(r(746279));var m=d(r(562856));var h=d(r(61798));var p=d(r(823059));var g=d(r(74425));var _=r(215951);var y=d(r(812209));var I=d(r(704123));var b=r(104072);var w=r(564138);var M=d(r(245978));var P=d(r(519325));function D(e,t){var r=a(e);if(n){var s=n(e);t&&(s=i(s).call(s,(function(t){return u(e,t).enumerable}))),r.push.apply(r,s)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r,a;var n=null!=arguments[t]?arguments[t]:{};t%2?s(r=D(Object(n),!0)).call(r,(function(t){(0,c.default)(e,t,n[t])})):o?f(e,o(n)):s(a=D(Object(n))).call(a,(function(t){l(e,t,u(n,t))}))}return e}var O=null&&(false&&0);var C=g.default.name;function L(e,t,r){t.timestamp=Date.now();if(t.modified){false&&0;var a=t.matchList;e.send({matches:a.getMatches(),matchKeys:a.getMatchKeys(),updatedMatches:t.updatedMatches,venues:t.venues,tournaments:t.tournaments,uniquetournaments:t.uniquetournaments},1e4,t)}else{false&&0;e.postpone(1e4,t)}}function S(e,t,r){return!(t&&r)||t&&e._tid===t||r&&e._utid===r}function q(e,t){var r=e.args.validUtIds;var a=e.args.excludeUtIds;var n=e.args.validSportIds;var i=e.args.hidePostponed;var u=e.args.matchFilterFn;(0,w.getSeasonId)(e,e.args.matchId,e.args.tournamentId,e.args.uniqueTournamentId,e.args.seasonId,(function(s,o){if(s){return t.fail(s)}if(!o){return t.fail("missing season id")}t.meta={seasonId:o};e.request(C,"generic",(function(s,f){var l,d,c;if(s){return t.fail(s)}var g=e.state.matchStore.getAllMatchKeys(e.__poller);var _=new y.default;var b=(0,M.default)()/1e3+3600;var w=false;var D;(0,v.default)(l=(0,m.default)(d=(0,h.default)(c=(0,p.default)(f.matches)).call(c,(function(e){return f.matches[e]}))).call(d,(function(e,t){return e._dt.uts-t._dt.uts}))).call(l,(function(t){if(u&&!u(t)){return}var s=i&&t.status&&t.status._id===60;var o=!s&&(0,P.default)(a,n,r,t._utid,t._sid);if(o&&S(t,e.args.tournamentId,e.args.uniqueTournamentId)){_.addMatch(e.state.matchStore,g[t._id]||new I.default(t._id),t,f.tournaments[t._tid],f.categories[t._rcid],f.sports&&f.sports[t._sid]);if(!D){D=t._sid}if(T(t,b)){w=true}}}));L(t,{matchList:_,modified:true,matchInProximity:w,seasonId:o,sportId:D,updatedMatches:_.getMatches(),venues:f.venues,tournaments:f.tournaments,uniquetournaments:f.uniquetournaments})}),{feed:"livescore_season_fixtures",params:o});return true}))}function T(e,t){return e.matchstatus==="live"||e.matchstatus==="recentlyended"||e.status._id===0&&e._dt.uts<t}function N(e,t){var r=e.meta;e.request(C,"generic",(function(a,n,i){if(a){false&&0;return t.postpone(1e4)}var u=i.metaData&&i.metaData._synced;var s=r&&r.matchInProximity;var o=s?3e4:3e5;var f=e.meta&&Date.now()-e.meta.timestamp;if(!(f&&f<o)){false&&0;q(e,t)}else if(r._synced===false&&u===true){false&&0;q(e,t)}else{var l=x(x({},r),{},{_synced:u});var d=l.matchList.updateWithEvents(n,e.state.matchStore);l.modified=!!d;l.updatedMatches=d;L(t,l)}}),{feed:"event_get",params:r.sportId})}function K(e,t){var r=(0,b.getMissingArgs)(e.args,["seasonId","tournamentId","uniqueTournamentId"]);if(r){return t.fail(r)}var a=e.meta;var n=e.lastResponse;var i=a&&a.matchInProximity;if(n){if(i){false&&0;N(e,t)}else{t.postpone(1e4,a)}}else{false&&0;q(e,t)}}},950655:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=O;var n=a(r(174888));var i=a(r(823059));var u=a(r(747795));var s=a(r(611955));var o=a(r(627424));var f=r(648421);var l=a(r(791327));var d=a(r(676012));var c=a(r(439198));var v=a(r(500711));var m=a(r(313311));var h=a(r(264721));var p=a(r(406156));var g=a(r(815073));var _=a(r(519325));function y(e){return{getId:function t(r){var a=(0,d.default)(e,r._dt);return a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate()},getGroupInfo:function t(r,a){var n=r.split("-"),i=(0,o.default)(n,3),u=i[0],s=i[1],f=i[2];return{date:(0,c.default)(e,u,s,f)}},sort:{getVal:function e(t){return t._dt.uts+"-"+t.teams.home.name+"-"+t.teams.away.name},dir:"asc"},children:"matches",group:"date"}}function I(e){return{getId:function e(t,r){var a=t.roundname;var i=a._doc==="tableround"?a._doc:t._tid;var u=a.statisticssortorder||(0,n.default)(a.name,10)||0;return a.name+"||"+i+"||"+(a.shortname||"")+"||"+u},getGroupInfo:function e(t,r){var a=t.split("||"),u=(0,o.default)(a,4),s=u[0],f=u[1],l=u[2],d=u[3];var c;if(f==="tableround"){var v=r.getTournaments();var h=(0,i.default)(r.getTournaments());if(h.length>1){var p=(0,m.default)(h,(function(e){return(0,n.default)(v[e].seasontype,10)===21}));c=v[p]||v[0]}else{c=v[h[0]]}}else{c=r.getTournament(f);d=-d}return{name:s,shortname:l,order:c?c._isk*-1e4+((0,n.default)(d,10)||0):0}},sort:{getVal:function e(t){return t.date.date.getTime()},dir:"asc"},children:"days",group:"round"}}function b(e,t,r){if(!t&&!r){return true}var a=e.roundname;if(!a){return false}if(t){if(a._doc==="tableround"){return(0,n.default)(a._id,10)===t}}else{if(a._doc==="cupround"){return(0,n.default)(a._id,10)===r}}return false}function w(e,t,r,a){var n=(0,g.default)(t);var i=n||e||r||a;return i&&function(t,i){var u=b(i,r,a);return u&&(!n||(0,h.default)(n,i._utid))&&(!e||e===i._tid)}}function M(e,t,r,a,n,i){var u,s;if(r){u=[I(t),y(t)];s={getVal:function e(t){return t.round.order},dir:"asc"}}else{u=[y(t)];s={getVal:function e(t){return t.date.date.getTime()},dir:"asc"}}return new l.default({groups:u,sort:s,counters:{live:function e(t){return t.matchstatus==="live"},nonstarted:function e(t){return t.status._id===0},postponed:function e(t){return t.status._id===60},canceled:function e(t){return t.status._id===70},all:function e(t){return true}},getElementId:function e(t){return t._id},isElementUpdated:function e(t,r,a){return a.matchstatus!==r.matchstatus||a._dt.uts!==r._dt.uts},isElementFiltered:w(e,a,n,i)})}function P(e,t,r,a,n,i){if(e){var u=(0,_.default)(a,n,i,e,t);if(!u||r&&!(0,h.default)(r,e)){return false}}return true}function D(e,t,r,a,n){var i=!(r===278&&!t);if(e!==undefined){i=i&&e}return i&&(0,v.default)(a.getTournaments(),(function(e){return e.roundbyround}))&&(0,v.default)(n.matches,(function(e){return e.roundname}))}function x(e,t,r){var a=e&&(0,u.default)(e.tournaments);var n=t&&(0,s.default)(a).call(a,(function(e){return(e.currentround||e.currentround===0)&&e._tid===t}));if(r&&(!n||n.length===0)){n=(0,s.default)(a).call(a,(function(e){return(e.currentround||e.currentround===0)&&e._utid===r}))}return n&&n.length>0&&+n[0].currentround}function O(e,t){var r=e.args,a=r.tournamentId,n=r.uniqueTournamentId,i=r.validUtIds,u=r.excludeUtIds,s=r.validSportIds,o=r.sportId,l=r.filterUtIds,d=r.tableroundId,c=r.cuproundId,v=r.seasonId,m=r.hidePostponed,h=r.matchFilterFn;var g=e.args.isRoundByRound;if(!P(n,o,l,u,s,i)){t.fail(new p.default("unique tournament: "+n,"trans_error_license_expired_tournament","tournaments"));return}e.request(f.matchProviderName,"fixtures",(function(r,i,u){if(r){t.fail(r);return}var s=e.meta||{};var o=s.groupedMatchList;var f=u.metaData.matchList;var m="isRBR"in s?s.isRBR:D(g,a,n,f,i);if(!o){var h=e.getCctx();o=M(a,h,m,l,d,c)}var p=o.addOrUpdateElements(i.matches,f);var _=x(i,a,n);t.setCompositeValidity(u);if(p||!e.lastResponse){t.send({groupedMatchList:o.getChildren(),rbr:m,matchKeys:f.getMatchKeys(),seasonId:u.metaData.seasonId,uniqueOrTournamentId:a&&"t"+a||n&&"ut"+n,currentRound:_,venues:i.venues},null,{groupedMatchList:o,isRBR:m,tournamentId:a,uniqueTournamentId:n,seasonId:v})}else{t.postpone()}}),{seasonId:v,tournamentId:a,uniqueTournamentId:n,validUtIds:i,excludeUtIds:u,validSportIds:s,hidePostponed:m,matchFilterFn:h})}},855322:function(e,t,r){"use strict";var a=r(918698);var n=r(972010);var i=r(541910);var u=r(279427);var s=r(564836);t.__esModule=true;t["default"]=y;var o=s(r(823059));var f=s(r(627424));var l=r(648421);var d=s(r(74425));var c=r(104072);var v=r(92975);var m=r(564138);var h=g(r(799113));function p(e){if(typeof n!=="function")return null;var t=new n;var r=new n;return(p=function e(a){return a?r:t})(e)}function g(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||a(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=p(t);if(r&&r.has(e)){return r.get(e)}var n={};var s=i&&u;for(var o in e){if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var f=s?u(e,o):null;if(f&&(f.get||f.set)){i(n,o,f)}else{n[o]=e[o]}}}n.default=e;if(r){r.set(e,n)}return n}function _(e,t,r,a){var n=e.args,i=n.tournamentId,u=n.uniqueTournamentId,s=n.seasonId;return(0,m.getSeasonIdPromise)(e,undefined,i,u,s).then((function(n){var c=a?n+"/"+r:n;e.compose([{providerName:l.matchProviderName,feed:"fixtures",args:{tournamentId:i,uniqueTournamentId:u,seasonId:s}},{providerName:d.default.name,feed:"generic",args:{feed:"season_bookmakerodds",params:c}}],(function(a,n,l){var d=(0,f.default)(n,2),c=d[0],m=d[1];var h=(0,f.default)(l,2),p=h[0],g=h[1];if(a){return t.fail(a)}var _=p.metaData.matchList,y=_.getSports(),I=(0,o.default)(y),b=I.length===1?y[I[0]]._id:0;e.meta=t.meta={matchKeys:_.getMatchKeys(),matchInProximity:p.metaData.matchInProximity,feedTimestamp:Date.now(),uniqueTournamentId:u,tournamentId:i,seasonId:s,sportId:b};if(!m.odds){return t.fail("no data")}(0,v.handleOdds)(e,t,m.odds,g,r)}))}))}function y(e,t){var r=(0,c.getMissingArgs)(e.args,["seasonId","tournamentId","uniqueTournamentId"]);if(r){return t.fail(r)}var a=e.getCctx();var n=(0,h.default)(e.args,a);var i=(0,h.useNewOddsFeed)(n,a);if(e.lastResponse){if(e.meta.matchInProximity){var u=e.meta.sportId;var s,o;if(i){s=u&&u!==0?"sport_matches_oddsfrombookmaker":"bet_get_oddsfrombookmaker";o=u?u+"/"+(0,l.getDateStringFromOffset)(0,a)+"/"+n:n+"/0"}else{s=u&&u!==0?"sport_matches_odds":"bet_get";o=u?u+"/"+(0,l.getDateStringFromOffset)(0,a):"{fishnetClientAlias}/0"}e.request(d.default.name,"generic",(function(r,a,i){if(r){return t.fail(r)}(0,v.handleOdds)(e,t,a,i,n)}),{feed:s,params:o})}else{if(Date.now()-e.meta.lastFeedTimestamp>18e4){_(e,t,n,i)}else{t.postpone(1e4)}}}else{_(e,t,n,i)}}},684240:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=D;t.getStructuredId=y;var n=a(r(427460));var i=a(r(562856));var u=a(r(823059));var s=a(r(61798));var o=a(r(952527));var f=a(r(600861));var l=a(r(627424));var d=a(r(689728));var c=a(r(74425));var v=a(r(423899));var m=a(r(406156));var h=a(r(354061));var p=a(r(815073));var g=/^(ut|t)?(\d+)$/;var _=function(){function e(e,t){this.id=void 0;this.stringId=void 0;this.tid=void 0;this.utid=void 0;this.id=e;if(t==="t"){this.tid=e}else{this.utid=e}this.stringId=t+e}var t=e.prototype;t.toString=function e(){return this.stringId};return(0,d.default)(e)}();function y(e,t){if(e){if(e instanceof _){return e}var r=(""+e).match(g);if(r){var a=(0,l.default)(r,3),n=a[1],i=a[2];return new _(+i,n||(t?"ut":"t"))}}return undefined}function I(e,t,r,a,n){if(!r&&!a&&!n||!e&&!t){return false}if(t&&n&&n[t]){return true}else if(t&&a&&a[t]){return false}else if(t&&r){if(e){if(r[e]){return false}}else{return false}}return true}function b(e,t,r,a,i,u){if(I(t,r,a,i,u)){return n.default.reject(new m.default("Missing license for uniquetournament id "+String(r)+" or sport id "+String(t),"trans_error_license_expired_tournament","tournaments"))}return n.default.resolve(e)}function w(e,t,r,a,i){if(!t){return n.default.reject(new Error("invalid structuredId object"))}var u=t.stringId,s=t.tid,o=t.utid;return b(null,null,o,r,a,i).then((function(){return e.requestPromise(c.default.name,"generic",{feed:s?"tournament_info":"uniquetournament_info",params:s||o})})).then((function(e){var t=e.data;var n=t.realcategory;var s={stringId:u,realcategory:n};if("tournament"in t){var f=t.tournament;s.uniqueTournamentId=f._utid;s.tournament=f}else if(o){s.uniqueTournamentId=t.uniquetournament._id;s.uniqueTournament=t.uniquetournament}return b(s,n._sid,s.uniqueTournamentId,r,a,i)}))}function M(e,t,r,a,s,o){var f;while(!(f=t.shift())&&t.length);if(f){return w(e,y(f,o),r,a,s).catch((function(){return M(e,t,r,a,s,o)}))}else{if(a){var l;var d="ut"+(0,i.default)(l=(0,u.default)(a)).call(l,(function(e,t){return a[e]-a[t]}))[0];return w(e,y(d,o),r,null,s)}else{return n.default.reject(new v.default("No valid (unique) tournament found in config"))}}}function P(e,t,r,a,n,i){return e.requestPromise(c.default.name,"generic",{feed:"stats_season_meta",params:t}).then((function(t){var u=t.data;if(i){var s=u.uniquetournament;var o=u.realcategory;var f=u.season;var l=f._utid;var d={realcategory:o,uniqueTournament:s,stringId:"ut"+l,uniqueTournamentId:l};return b(d,f._sid,l,a,r,n)}else{var c=(0,h.default)(u.tournamentids,(function(e,t){e.push(new _(t,"t"));return e}),[]);return M(e,c,a,r,n,i)}}))}function D(e,t){var r=e.lastResponse,a=e.args;if(r){return t.postpone(1e3)}var n=a.favoriteTournaments,i=a.tournamentId,u=a.groupTournaments,l=a.seasonId,d=a.filterUtIds;var c=a.validUtIds,v=a.validSportIds,m=a.excludeUtIds;var h=[];if(i){h.push(i)}if(n){h.push.apply(h,(0,f.default)(n))}if(d){var g=(0,p.default)(d);h.push.apply(h,(0,f.default)((0,s.default)(g).call(g,(function(e){return new _(+e,"ut")}))));v=undefined;m=undefined;c=(0,o.default)(g).call(g,(function(e,t){e[t]=1;return e}),{})}var y;if(!i&&l){y=P(e,l,c,v,m,u)}else{y=M(e,h,v,c,m,u)}y=y.then((function(e){t.validityMillis=1e4;return e}));return y}},87370:function(e,t,r){"use strict";var a=r(823059);var n=r(809534);var i=r(611955);var u=r(279427);var s=r(746279);var o=r(562857);var f=r(257396);var l=r(541910);var d=r(564836);t.__esModule=true;t["default"]=U;var c=d(r(219373));var v=d(r(174888));var m=d(r(952527));var h=d(r(238416));var p=d(r(670215));var g=d(r(74425));var _=r(215951);var y=d(r(812209));var I=d(r(704123));var b=r(104072);var w=r(648421);var M=d(r(439198));var P=d(r(984461));var D=["tournaments"],x=["matches"],O=["realcategories"],C=["realcategories"];function L(e,t){var r=a(e);if(n){var s=n(e);t&&(s=i(s).call(s,(function(t){return u(e,t).enumerable}))),r.push.apply(r,s)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r,a;var n=null!=arguments[t]?arguments[t]:{};t%2?s(r=L(Object(n),!0)).call(r,(function(t){(0,h.default)(e,t,n[t])})):o?f(e,o(n)):s(a=L(Object(n))).call(a,(function(t){l(e,t,u(n,t))}))}return e}var q=null&&(false&&0);var T=g.default.name;var N=[15822];function K(e,t,r,a,n,i,u,s,o,f,l,d,v){for(var m=0;m<n.length;m++){var h=n[m],g=h.tournaments,_=(0,p.default)(h,D);for(var y=0;y<g.length;y++){var b=g[y],w=b.matches,M=(0,p.default)(b,x);if(E(M._sid,M._utid,M._rcid,o,f,l,d)){for(var P=0;P<w.length;P++){var O=w[P];if(i){var C=O._dt&&O._dt.uts;if(C<u||C>=s)continue}if(v&&O.status&&O.status._id===60){continue}if((0,c.default)(N).call(N,O._utid)>-1){continue}e.addMatch(t,r[O._id]||new I.default(O._id),O,M,_,a)}}}}}function E(e,t,r,a,n,i,u){return!(i&&t&&i[t])&&(!a&&!n&&!u||a&&a[e]||n&&n[t]||u&&u[r])}function F(e,t,r){t.timestamp=Date.now();if(t.modified){false&&0;var a=t.matchList;e.send({matches:a.getMatches(),matchKeys:a.getMatchKeys(),updatedMatches:t.updatedMatches,matchList:a},1e4,t)}else{false&&0;e.postpone(1e4,t)}}function A(e,t){var r=e.getCctx();var a=e.args.sportId;var n=e.args.validSportIds;var i=e.args.validUtIds;var u=e.args.excludeUtIds;var s=r.fishnetForceFullfeed;var o=a&&!s;var f=e.args.hidePostponed;var l=R(e,r,o);e.compose(l,(function(s,d,c){if(s)return t.fail(s);var v=new y.default;var m=e.state.matchStore.getAllMatchKeys(e.__poller);if(d&&d.length){for(var h=0;h<d.length;++h){var g=l[h].metaConfig||{},_=g.validRCIds,I=g.dateOrOffset;if(o){var b=d[h].sport,w=b.realcategories,P=(0,p.default)(b,O);var D=I.split("-");var x=(0,M.default)(r,Number(D[0]),Number(D[1])-1,Number(D[2]));var L=Math.round(x.getTime()/1e3);K(v,e.state.matchStore,m,P,w,true,L,L+86400,n,i,u,_,f)}else{var S=d[h];for(var q=0;q<S.length;q++){var T=S[q];var N=T.realcategories,E=(0,p.default)(T,C);if(a&&E._id!==a)continue;K(v,e.state.matchStore,m,E,N,false,false,false,n,i,u,_,f)}}}}F(t,{matchList:v,updatedMatches:v.getMatches(),_synced:null,modified:true})}))}function R(e,t,r){var a=e.args.sportId;var n=e.args.unpublishedRealcategories;var i=r?"sport_matches":"event_fullfeed";var u=(0,w.getDayOffset)(e);var s=a===21||(0,P.default)({_sid:a})?"/1":"";var o=1;if(e.args.days){o=(0,v.default)(e.args.days,10);if(isNaN(o)||o<1){o=1}}var f=[];for(var l=0;l<o;++l){var d=r?(0,w.getDateStringFromOffset)(u+l,t):u+l;var c=r?a+"/"+d+s:d+"/"+t.fishnetServiceId;f.push({providerName:g.default.name,feed:"generic",args:{feed:i,params:c},metaConfig:{dateOrOffset:d}});if(r&&n){f.push({providerName:g.default.name,feed:"generic",args:{feed:i,params:c+"/1"},metaConfig:{dateOrOffset:d,validRCIds:(0,m.default)(n).call(n,(function(e,t){e[t]=1;return e}),{})}})}}return f}function k(e,t){var r=e.meta;e.request(T,"generic",(function(a,n,i){if(a){false&&0;return t.postpone(1e4)}var u=i.metaData&&i.metaData._synced;var s=e.meta&&Date.now()-e.meta.timestamp;if(!(s&&s<3e4)){false&&0;A(e,t)}else if(r._synced===false&&u===true){false&&0;A(e,t)}else{var o=S(S({},r),{},{_synced:u});var f=o.matchList.updateWithEvents(n,e.state.matchStore);o.modified=!!f;o.updatedMatches=f;F(t,o)}}),{feed:"event_get",params:e.args.sportId})}function U(e,t){var r=(0,b.getMissingArgs)(e.args,["dayOffset","date"],"sportId");if(r){return t.fail(r)}var a=e.lastResponse;var n=e.getCctx();var i=(0,w.getDayOffset)(e)===0||n.pvrEnabled;if(a){if(i){false&&0;k(e,t)}else{t.postpone(25e3,e.meta)}}else{if(false){}A(e,t)}}},838515:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=d;var n=a(r(952527));var i=r(648421);var u=a(r(791327));var s=a(r(519325));var o=r(104072);var f=a(r(264721));var l=function e(t,r,a){return(t[r]=a+1)&&t};function d(e,t){var r=(0,o.getMissingArgs)(e.args,"dayOffset","sportId");if(r){return t.fail(r)}var a=e.args.dayOffset;var d=e.args.dayOffset==="live";if(d){a=0}var c=e.args.sportId;var v=e.args.unpublishedRealcategories;var m=e.meta&&e.meta.groupedMatchList;if(!m){var h=e.args.validUtIds;var p=e.args.excludeUtIds;var g=e.args.validSportIds;var _=e.args.filterUtIds;var y=e.args.filterRcIds;var I=e.args.excludeRcIds;var b=e.args.favoriteTournaments;var w=e.args.minLmtSupport;var M=function e(t,r){var a=(0,s.default)(p,g,h,r._utid,c);return a&&(!_||(0,f.default)(_,r._utid))&&(!d||d&&r.matchstatus==="live")&&(!y||(0,f.default)(y,r._rcid))&&(!I||!(0,f.default)(I,r._rcid))&&(w===null||w===undefined||r.coverage.lmtsupport>=w)};var P=b&&(0,n.default)(b).call(b,l,{});var D=function e(t){return P&&P[t._utid]};m=new u.default({groups:[{getId:function e(t){return D(t)?"fav":"normal"},getGroupInfo:function e(t){return t},children:"children"},{getId:function e(t){return D(t)?"fav":t._rcid},getGroupInfo:function e(t,r){return t==="fav"?t:r.getRealCategory(t)},children:"tournaments",group:"realcategory",sort:{getVal:function e(t){var r=t.info.tournament;var a=r.name;var n=D(r);if(n){a=n}return a},dir:"asc"}},{getId:function e(t){return t._tid},getGroupInfo:function e(t,r){var a=r.getTournament(t);return{tournament:a,realcategory:r.getRealCategory(a._rcid)}},children:"matches",group:"info"}],counters:{live:function e(t){return t.matchstatus==="live"},matches:function e(t){return true}},getElementId:function e(t){return t._id},isElementUpdated:function e(t,r,a){return a.updated_uts!==r.updated_uts},isElementFiltered:M})}e.request(i.matchProviderName,"fullfeed",(function(r,a,i,u){if(r)return t.fail(r);t.setCompositeValidity(i);if(e.lastResponse&&(u||!a.updatedMatches)){return t.postpone()}var s=i.metaData.matchList;var o=m.addOrUpdateElements(a.matches,s);if(o||!e.meta){var f=m.getChildren();var l=(0,n.default)(f).call(f,(function(e,t){e.matchesCount+=t.el.counters.matches;switch(t.el.group){case"normal":e.realcategories=t.el.children;break;case"fav":e.favTournaments=t.el.children[0].el.tournaments;break}return e}),{favTournaments:null,realcategories:null,matchKeys:s.getMatchKeys(),matchesCount:0});t.meta={groupedMatchList:m};t.send(l)}else{t.postpone()}}),{dayOffset:a,sportId:c,unpublishedRealcategories:v})}},92975:function(e,t,r){"use strict";var a=r(918698);var n=r(972010);var i=r(541910);var u=r(279427);var s=r(564836);t.__esModule=true;t["default"]=P;t.handleOdds=M;var o=s(r(627424));var f=s(r(451589));var l=s(r(600861));var d=s(r(174888));var c=s(r(823059));var v=s(r(563383));var m=s(r(608065));var h=s(r(382073));var p=r(648421);var g=s(r(74425));var _=I(r(799113));function y(e){if(typeof n!=="function")return null;var t=new n;var r=new n;return(y=function e(a){return a?r:t})(e)}function I(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||a(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=y(t);if(r&&r.has(e)){return r.get(e)}var n={};var s=i&&u;for(var o in e){if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var f=s?u(e,o):null;if(f&&(f.get||f.set)){i(n,o,f)}else{n[o]=e[o]}}}n.default=e;if(r){r.set(e,n)}return n}function b(e,t,r){var a=e.getCctx();var n=e.args.sportId;var i=a.fishnetForceFullfeed;var u=(0,p.getDayOffset)(e)||0;var s=1;if(e.args.days){s=(0,d.default)(e.args.days,10);if(isNaN(s)||s<1){s=1}}var o=[];if(n&&!i){for(var f=0;f<s;++f){var l=r?"sport_matches_oddsfrombookmaker":"sport_matches_odds";var c=e.args.sportId+"/"+(0,p.getDateStringFromOffset)(u+f,a);if(r){c+="/"+t}o.push({providerName:g.default.name,feed:"generic",args:{feed:l,params:c}})}}else{for(var v=0;v<s;++v){var m=r?"bet_get_oddsfrombookmaker":"bet_get";var h=r?t:"{fishnetClientAlias}";h+="/"+(u+v);o.push({providerName:g.default.name,feed:"generic",args:{feed:m,params:h}})}}return o}function w(e,t,r,a,n,i){if(!a||!n)return;var u=(0,c.default)(a);var s;var o=n.metaData._dob;for(var f=0,l=u.length;f<l;++f){var d=+u[f];var v=t[d];if(v){var m=a[d];var h=r.getBet(v,i);var p=r.addOrUpdateBet(v,m,o,i);if(h!==p){s=true}e[d]=p}}return s}function M(e,t,r,a,n){t.setCompositeValidity(a,5e3,1e4);var i=e.meta.matchKeys;var u=e.state.matchStore;var s={};var o=!e.lastResponse;if(Array.isArray(r)){for(var f=0,l=r.length;f<l;++f){o=w(s,i,u,r[f],a[f],n)||o}}else{o=w(s,i,u,r,a,n)||o}if(o){t.send({bets:s})}else{t.postpone()}}function P(e,t){var r=(0,p.getDayOffset)(e);var a=e.getCctx();var n=(0,_.default)(e.args,a);var i=(0,_.useNewOddsFeed)(n,a);if(!r&&r!==0){return t.fail("missing day offset")}if(r<0&&!e.args.allowPastDates){if(e.lastResponse){t.postpone(1e4)}else{t.send({},1e4)}return}if(e.lastResponse){e.compose(b(e,n,i),(function(r,a,i){var u,s;if(r){return t.fail(r)}M(e,t,v.default.apply(Object,(0,m.default)(u=[{}]).call(u,(0,l.default)(a))),v.default.apply(Object,(0,m.default)(s=[{}]).call(s,(0,l.default)(i))),n)}))}else{var u;var s=e.args,d=s.sportId,c=s.unpublishedRealcategories;e.compose((0,m.default)(u=[{providerName:p.matchProviderName,feed:"fullfeed",args:{dayOffset:r,sportId:d,unpublishedRealcategories:c}}]).call(u,(0,l.default)(b(e,n,i))),(function(r,a,i){var u=(0,f.default)(a),s=u[0],l=(0,h.default)(u).call(u,1);var d=(0,f.default)(i),c=d[0],v=(0,h.default)(d).call(d,1);if(r){var m=(0,o.default)(r,1),p=m[0];if(p){return t.fail(p)}}e.meta=t.meta={matchKeys:c.metaData.matchList.getMatchKeys()};M(e,t,l,v,n)}))}}},963709:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=d;var n=a(r(746279));var i=a(r(845286));var u=a(r(187159));var s=r(648421);var o=""+30;var f=[1,137,4,195];function l(e,t,r){var a=e.meta;var i=e.lastResponse;var f=e.args.matchId;e.requestPromise(u.default.name,"matchTimeline",{matchId:f}).then((function(e){var u=e.data,f=e.meta;var l=(0,s.validityCacheTime)(r);t.setCompositeValidity(f,l.min,l.max);var d=u.events;if(a&&a.events===d){return t.postpone()}var c=[];var v=[];var m=!i;(0,n.default)(d).call(d,(function(e,t){if(e._typeid===o&&e.time!==-1){var r;if(e.team==="home"){c.push(e);if(!m){r=i.homeEvents[c.length-1]}}else if(e.team==="away"){v.push(e);if(!m){r=i.awayEvents[v.length-1]}}if(!m){if(!r||r._id!==e._id||r.updated_uts!==e.updated_uts){m=true}}}}));m=m||i.homeEvents.length!==c.length||i.awayEvents.length!==v.length;var h={events:d};if(m){t.send({homeEvents:c,awayEvents:v,total:c.length+v.length},null,h)}else{return t.postpone(null,h)}})).catch((function(e){return t.fail(e)}))}function d(e,t){var r=e.args.matchId;e.requestPromise(u.default.name,"match",{matchId:r,static:true}).then((function(r){var a=r.data,n=r.meta;if((0,i.default)(f).call(f,(function(e){return e===a._sid}))){l(e,t,a)}else{t.setCompositeValidity(n);t.send(false)}})).catch((function(e){return t.fail(e)}))}},187159:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t.getTeamFixturesAsyncPropDef=t.getStatsMatchStatsAsyncPropDef=t.getMatchTimelineAsyncPropDef=t.getMatchSquadsAsyncPropDef=t.getMatchSituationsAsyncPropDef=t.getMatchSituationStatsAsyncPropDef=t.getMatchOddsAsyncPropDef=t.getMatchInfoAsyncPropDef=t.getMatchDetailsExAsyncPropDef=t.getMatchAsyncPropDef=t.getLiveMatchAsyncPropDef=t.getGoalscorersAsyncPropDef=t.getFullfeedOddsAsyncPropDef=t.getFullfeedGroupedAsyncPropDef=t.getFullfeedAsyncPropDef=t.getFixturesSelectedTournamentInfoAsyncPropDef=t.getFixturesOddsAsyncPropDef=t.getFixturesGroupedAsyncPropDef=t.getFixturesAsyncPropDef=t["default"]=void 0;var n=a(r(608065));var i=a(r(74425));var u=r(648421);var s=r(104072);var o=a(r(87370));var f=a(r(965795));var l=a(r(69554));var d=a(r(854631));var c=a(r(626165));var v=a(r(820261));var m=a(r(972846));var h=a(r(92975));var p=a(r(838515));var g=a(r(480531));var _=a(r(855322));var y=a(r(950655));var I=a(r(684240));var b=a(r(837631));var w=a(r(747378));var M=a(r(12337));var P=a(r(848805));var D=a(r(856397));var x=a(r(963709));var O=a(r(654483));var C=a(r(451797));var L=a(r(929700));var S={name:u.matchProviderName,config:{getStaticState:function e(){return{matchStore:new L.default}}},impl:{match:c.default,matchOdds:m.default,matchInfo:v.default,matchTimeline:f.default,matchTimelineDelta:l.default,matchDetailsEx:d.default,fixtures:g.default,fixturesOdds:_.default,fixturesGrouped:y.default,fullfeed:o.default,fullfeedOdds:h.default,fullfeedGrouped:p.default,fixturesSelectedTournamentInfo:I.default,teamFixtures:b.default,matchSituations:P.default,matchSituationStats:D.default,goalScorers:x.default,matchSquads:O.default,statsMatchStats:C.default,matchStore:function e(t,r){r.send(t.state.matchStore)}},dependantProviders:[i.default]};var q=S;t["default"]=q;var T=(0,s.createAsyncPropDefinitionFactory)(S,"fullfeed",["sportId","validUtIds","validSportIds","excludeUtIds","dayOffset","date","days"],true,["sportId",["dayOffset","date"]]);t.getFullfeedAsyncPropDef=T;var N=(0,s.createAsyncPropDefinitionFactory)(S,"matchInfo",["matchId"],true,true);t.getMatchInfoAsyncPropDef=N;var K=w.default;t.getLiveMatchAsyncPropDef=K;var E=(0,s.createAsyncPropDefinitionFactory)(S,"match",["matchId","matchKey"],false,["matchId"],true);t.getMatchAsyncPropDef=E;var F=(0,s.createAsyncPropDefinitionFactory)(S,"matchTimeline",["matchId"],true,true);t.getMatchTimelineAsyncPropDef=F;var A=(0,s.createAsyncPropDefinitionFactory)(S,"matchDetailsEx",["matchId"],true,true);t.getMatchDetailsExAsyncPropDef=A;var R=M.default;t.getMatchOddsAsyncPropDef=R;var k=(0,s.createAsyncPropDefinitionFactory)(S,"fullfeedOdds",["sportId","dayOffset","date","allowPastDates","days","bookmakerId"],true,["sportId",["dayOffset","date"]]);t.getFullfeedOddsAsyncPropDef=k;var U=(0,s.createAsyncPropDefinitionFactory)(S,"fullfeedGrouped",["sportId","dayOffset","validUtIds","validSportIds","excludeUtIds","filterUtIds","filterRcIds","excludeRcIds","favoriteTournaments","minLmtSupport","unpublishedRealcategories"],true,["sportId","dayOffset"]);t.getFullfeedGroupedAsyncPropDef=U;var j=["seasonId","tournamentId","uniqueTournamentId","sportId","hidePostponed"];var B=[["seasonId","tournamentId","uniqueTournamentId","hidePostponed"]];var G=(0,s.createAsyncPropDefinitionFactory)(S,"fixtures",(0,n.default)(j).call(j,"validUtIds, validSportIds, excludeUtIds"),true,[j]);t.getFixturesAsyncPropDef=G;var V=(0,s.createAsyncPropDefinitionFactory)(S,"fixturesGrouped",(0,n.default)(j).call(j,"validUtIds","validSportIds","excludeUtIds","isRoundByRound","filterUtIds"),true,B);t.getFixturesGroupedAsyncPropDef=V;var W=(0,s.createAsyncPropDefinitionFactory)(S,"fixturesOdds",(0,n.default)(j).call(j,"bookmakerId"),true,B);t.getFixturesOddsAsyncPropDef=W;var Y=(0,s.createAsyncPropDefinitionFactory)(S,"fixturesSelectedTournamentInfo",["validUtIds","validSportIds","excludeUtIds","filterUtIds","favoriteTournaments","tournamentId","groupTournaments","seasonId"],false,["groupTournaments",["favoriteTournaments","tournamentId","seasonId"]]);t.getFixturesSelectedTournamentInfoAsyncPropDef=Y;var z=(0,s.createAsyncPropDefinitionFactory)(S,"teamFixtures",(0,n.default)(j).call(j,"teamUid"),true,[j,"teamUid"]);t.getTeamFixturesAsyncPropDef=z;var H=(0,s.createAsyncPropDefinitionFactory)(S,"matchSituations",["matchId"],true,true);t.getMatchSituationsAsyncPropDef=H;var $=(0,s.createAsyncPropDefinitionFactory)(S,"matchSituationStats",["matchId"],true,true);t.getMatchSituationStatsAsyncPropDef=$;var J=(0,s.createAsyncPropDefinitionFactory)(S,"goalScorers",["matchId"],true,true);t.getGoalscorersAsyncPropDef=J;var Q=(0,s.createAsyncPropDefinitionFactory)(S,"matchSquads",["matchId"],true,true);t.getMatchSquadsAsyncPropDef=Q;var X=(0,s.createAsyncPropDefinitionFactory)(S,"statsMatchStats",["matchId"],true,true);t.getStatsMatchStatsAsyncPropDef=X},747378:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=l;t.subscribeToStore=f;var n=a(r(397575));var i=r(104072);var u=a(r(187159));var s=a(r(423899));var o=r(215951);function f(e,t,r,a,n,i,s,f,l){var d,c;var v=s?"matchTimelineDelta":"match";var m=false;var h=function e(t){m=true;l(null,t)};var p=e.request({providerName:u.default.name,feed:"matchStore",callback:function s(p,g){if(p){return l(p)}if(d===false){return}d=g;g.addListener(t,h);var _=i(r,a,n);var y=_&&g.get(_);if(y){h(y)}else{c=e[f?"request":"subscribe"]({providerName:u.default.name,feed:v,callback:function r(a,n,i){if(!m){if(a){return l(a)}m=true;var u=i&&i.metaData&&i.metaData.matchKey||d.getKey(t,e);var s=u&&d.get(u);if(s){l(null,s)}else{(0,o.warn)("[LiveMatch] failed to acquire matchKey");l(null,n.match||n)}}},args:{matchId:t},staleResponse:true,reactContext:n})}},staleResponse:true,reactContext:n});return function(){if(d){d.removeListener(t,h)}else{e.abort(p)}d=false;if(c){e[f?"abort":"unsubscribe"](c)}}}function l(e,t){var r=e;var a=false;if(e===true||e===false){r=t;a=e}if(false){}var o=(0,i.getterFactory)(r&&r.matchId||"props.matchId");var l=(0,i.getterFactory)(r&&r.matchKey||"props.matchKey");return new n.default({id:"livematch"+(a?"-polled":""),key:i.getKey.bind(undefined,[o]),subscribe:function e(t,r,n,d,c){var v=d.poller;(0,i.ensureProvider)(v,d.cctx,u.default);var m=o(r,n,d);if(!m){t(new s.default("Missing "+o.path));return}var h=c||!a;var p=f(v,m,r,n,d,l,a,h,t);return p}})}},12337:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=d;var n=a(r(397575));var i=r(104072);var u=a(r(187159));var s=a(r(423899));var o=r(215951);var f=a(r(799113));var l=function e(t,r,a){return(0,f.default)(t,a.cctx)};function d(e,t){var r=e;var a=true;if(e===true||e===false){r=t;a=e}if(false){}var f=(0,i.getterFactory)(r&&r.matchId||"props.matchId");var d=(0,i.getterFactory)(r&&r.matchKey||"props.matchKey");var c=(0,i.getterFactory)(r&&r.bookmakerId||l);return new n.default({id:"liveodds",key:i.getKey.bind(undefined,[f,c]),subscribe:function e(t,r,n,l,v){var m=l.poller;(0,i.ensureProvider)(m,l.cctx,u.default);var h=f(r,n,l);var p=c(r,n,l);if(!h||!p){var g=(0,i.getMissingArgsWithGetters)({matchId:h,bookmakerId:p},["matchId","bookmakerId"],{matchId:f,bookmakerId:c});t(new s.default("Missing "+(g||"match or bookmaker")));return}var _=v||!a;var y=false;var I=function e(r){y=true;t(null,r)};var b;var w;var M=m.request({providerName:u.default.name,feed:"matchStore",callback:function e(a,i){if(a){return t(a)}if(b===false){return}b=i;i.addBetListener(h,p,I);var s=d(r,n,l);if(s){I(i.getBet(s,p))}else{w=m[_?"request":"subscribe"]({providerName:u.default.name,feed:"matchOdds",callback:function e(r,a,n){if(!y&&b){if(r){return t(r)}y=true;var i=n&&n.metaData&&n.metaData.matchKey||b.getKey(h,m);var u=i&&b.getBet(i,p);if(u){t(null,u)}else{(0,o.warn)("[LiveOdds] failed to acquire matchKey for matchid:",h,"bookmakerid:",p);t(null,a)}}},args:{matchId:h,bookmakerId:p},staleResponse:true,reactContext:l})}},staleResponse:true,reactContext:l});return function(){if(b){b.removeBetListener(h,p,I)}else{m.abort(M)}b=false;if(w){m[_?"abort":"unsubscribe"](w)}}}})}},626165:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=o;var n=r(648421);var i=a(r(423899));function u(e,t,r,a){var i=e.args.static;var u=e.meta&&e.meta.match;var o=r.get(a);if(o!==u){t.send((0,n.getDevMatchWarning)(o,i),1e4,{matchKey:a,lastUpdate:Date.now(),match:o})}else{if(o){t.postpone(1e4)}else{s(e,t,r,a.id)}}}function s(e,t,r,a){e.request(n.matchProviderName,"matchInfo",(function(a,n,i){if(a){return t.fail(a)}u(e,t,r,i.metaData.matchKey)}),{matchId:a})}function o(e,t){var r=e.state.matchStore;var a=e.meta&&e.meta.lastUpdate||0;if(a&&Date.now()-a<3e4){return t.postpone(1e4)}var n=e.args.matchKey||e.meta&&e.meta.matchKey;if(n){u(e,t,r,n)}else{var o=e.args.matchId;if(!o){return t.fail(new i.default("matchId"))}n=r.getKey(o,e.__poller,"match");if(n){u(e,t,r,n)}else{s(e,t,r,o)}}}},854631:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=o;var n=r(648421);var i=a(r(74425));var u=a(r(245978));function s(e,t,r){return e.requestPromise(i.default.name,"generic",{feed:"match_detailsextended",params:e.args.matchId}).then((function(a){var n=a.data,i=a.meta;n.dob=i.metaData._dob;t.setCompositeValidity(i,r);t.send(n,e.meta)})).catch((function(e){return t.fail(e)}))}function o(e,t){var r=e.args.matchId;var a=e.meta;if(!e.lastResponse){s(e,t)}else if(a&&a.postmatch){var i=a.match;var o=i&&i.timeinfo&&i.timeinfo.ended;if(o&&(0,u.default)()-o*1e3>12*3600*1e3){t.postpone(0)}else{s(e,t,12e4)}}else{e.requestPromise(n.matchProviderName,"match",{matchId:r,static:true}).then((function(r){var a=r.data,n=r.meta;if(a.matchstatus==="result"){t.postpone(11e4,{postmatch:true,match:a})}else if(a.matchstatus==="live"||a.matchstatus==="recentlyended"){return s(e,t)}else{t.setCompositeValidity(n);t.postpone()}})).catch((function(e){return t.fail(e)}))}}},820261:function(e,t,r){"use strict";var a=r(823059);var n=r(809534);var i=r(611955);var u=r(279427);var s=r(746279);var o=r(562857);var f=r(257396);var l=r(541910);var d=r(564836);t.__esModule=true;t["default"]=b;var c=d(r(238416));var v=r(215951);var m=r(648421);var h=d(r(74425));function p(e,t){var r=a(e);if(n){var s=n(e);t&&(s=i(s).call(s,(function(t){return u(e,t).enumerable}))),r.push.apply(r,s)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r,a;var n=null!=arguments[t]?arguments[t]:{};t%2?s(r=p(Object(n),!0)).call(r,(function(t){(0,c.default)(e,t,n[t])})):o?f(e,o(n)):s(a=p(Object(n))).call(a,(function(t){l(e,t,u(n,t))}))}return e}var _=null&&(false&&0);var y=1e4;var I=["broadcastnetwork"];function b(e,t){var r=e.args.matchId;var a=e.state.matchStore;var n=e.meta;if(!r){return t.fail("Missing MatchId")}var i=!(n&&n.lastMatchInfoTimestamp>=Date.now()-60*1e3);if(i){false&&0;e.request(h.default.name,"generic",(function(i,u,s){if(i){return t.fail(i)}var o=n&&n.matchKey;if(!o){o=a.getOrCreateKey(r,e.__poller,"matchInfo")}a.addOrUpdateMatch(o,(0,m.stripMatchObj)(u.match,I));var f=g(g({},u),{},{match:(0,m.getDevMatchWarning)(u.match)});t.send(f,y,{lastMatchInfoTimestamp:Date.now(),matchKey:o})}),{feed:"match_info",params:r})}else{t.postpone(y)}}},972846:function(e,t,r){"use strict";var a=r(918698);var n=r(972010);var i=r(541910);var u=r(279427);var s=r(564836);t.__esModule=true;t["default"]=v;var o=s(r(74425));var f=s(r(27440));var l=c(r(799113));function d(e){if(typeof n!=="function")return null;var t=new n;var r=new n;return(d=function e(a){return a?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||a(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=d(t);if(r&&r.has(e)){return r.get(e)}var n={};var s=i&&u;for(var o in e){if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var f=s?u(e,o):null;if(f&&(f.get||f.set)){i(n,o,f)}else{n[o]=e[o]}}}n.default=e;if(r){r.set(e,n)}return n}function v(e,t){var r=e.args,a=r.matchId,n=r.matchKey;var i=e.state.matchStore;if(!a){return t.fail("missing match id")}var u=e.getCctx();var s=(0,l.default)(e.args,u);if(n){var d=e.lastResponse;var c=i.getBet(n,s);if(!d||c!==d){return t.send(c,1e4)}return t.postpone(1e4)}var v=(0,l.useNewOddsFeed)(s,u);var m=v?"match_oddsfrombookmaker":"match_bookmakerodds";var h=v?a+"/"+s:a;return e.requestPromise(o.default.name,"generic",{feed:m,params:h}).then((function(r){var n=r.data,u=r.meta;var o=e.meta&&e.meta.matchKey;var l=v?n.odds:n;if(!l||l.length===0)throw new f.default("empty odds array");if(!o){o=i.getOrCreateKey(a,e.__poller,"matchOdds")}var d=i.getBet(o,s);var c=i.addOrUpdateBet(o,l[a],u.metaData._dob,s);t.setCompositeValidity(u);if(!e.lastResponse||d!==c){t.send(c,null,{matchKey:o})}else{t.postpone()}}))}},856397:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=o;var n=a(r(74425));var i=r(648421);var u;var s=(u={},u[1]=true,u[4]=true,u[12]=true,u[137]=true,u[195]=true,u);function o(e,t){var r=e.args.matchId;e.requestPromise(i.matchProviderName,"match",{matchId:r,static:true}).then((function(a){var u=a.data,o=a.meta;if(!s[u._sid]){return t.fail("No situation stats for this sport")}if(!u.matchstatus){t.setCompositeValidity(o);t.send({situation:null})}else{return e.requestPromise(n.default.name,"generic",{feed:"stats_match_situation",params:r}).then((function(e){var r=e.data,a=e.meta;var n=(0,i.validityCacheTime)(u);t.setCompositeValidity(a,n.min,n.max);t.send({situation:r})})).catch((function(e){var r=1e4;t.send({situation:null},r)}))}})).catch((function(e){return t.fail(e)}))}},848805:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=l;var n=a(r(627424));var i=a(r(427460));var u=a(r(611955));var s=a(r(74425));var o=a(r(423899));var f=r(648421);function l(e,t){var r=e.args.matchId;if(!r){return t.fail(new o.default("Missing matchId"))}var a=e.requestPromise(f.matchProviderName,"match",{matchId:r,static:true});var l=e.requestPromise(s.default.name,"generic",{feed:"match_situations",params:r});i.default.all([a,l]).then((function(e){var r;var a=(0,n.default)(e,2),i=a[0],s=a[1];var o=i.data;var l=s.data;var d=(0,u.default)(r=l.situations).call(r,(function(e){return e.x!==null&&e.y!==null}));var c=[i.meta,s.meta];var v=(0,f.validityCacheTime)(o);t.setCompositeValidity(c,v.min,v.max);t.send({match:o,situations:d})})).catch((function(e){return t.fail(e)}))}},654483:function(e,t,r){"use strict";var a=r(823059);var n=r(809534);var i=r(611955);var u=r(279427);var s=r(746279);var o=r(562857);var f=r(257396);var l=r(541910);var d=r(564836);t.__esModule=true;t["default"]=S;var c=d(r(746279));var v=d(r(61798));var m=d(r(562856));var h=d(r(823059));var p=d(r(611955));var g=d(r(608065));var _=d(r(238416));var y=r(648421);var I=d(r(74425));var b,w,M;function P(e,t){var r=a(e);if(n){var s=n(e);t&&(s=i(s).call(s,(function(t){return u(e,t).enumerable}))),r.push.apply(r,s)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r,a;var n=null!=arguments[t]?arguments[t]:{};t%2?s(r=P(Object(n),!0)).call(r,(function(t){(0,_.default)(e,t,n[t])})):o?f(e,o(n)):s(a=P(Object(n))).call(a,(function(t){l(e,t,u(n,t))}))}return e}var x=(M={},M[1]={eventWhiteList:(b={},b[40]=true,b[45]=true,b[50]=true,b[30]=true,b[60]=true,b),positionPriorityMap:{G:1,D:2,M:3,F:4},sortPlayersByPosition:O},M[6]={eventWhiteList:(w={},w[40]=true,w[50]=true,w[48]=true,w[30]=true,w),positionPriorityMap:{G:1,RW:2,LW:2,P:3,CB:4,RB:4,LB:4},sortPlayersByPosition:L},M[3]={sortPlayersByPosition:C},M);x[137]=x[1];function O(e,t){var r=x[1].positionPriorityMap[e.position&&e.position._type]||10;var a=x[1].positionPriorityMap[t.position&&t.position._type]||10;if(r===a){if(e.name<t.name)return-1;if(e.name>t.name)return 1;return 0}return r-a}function C(e,t){return e.order-t.order}function L(e,t){var r=e.position._type;var a=t.position._type;if(r&&a){var n=x[6].positionPriorityMap[r];var i=x[6].positionPriorityMap[a];if(n===i){var u=+e.shirtnumber;var s=+t.shirtnumber;if(u===s)return 0;else if(u>s)return 1;else return-1}else if(n>i){return 1}else{return-1}}else{if(!r&&!a)return 0;else if(!r)return 1;else return-1}}function S(e,t){var r=e.args.matchId;e.requestPromise(I.default.name,"generic",{feed:"match_squads",params:r}).then((function(r){var a=r.data,n=r.meta;var i=(0,y.validityCacheTime)(a.match);t.setCompositeValidity(n,i.min,i.max);if(!q(a.home.startinglineup)||!q(a.away.startinglineup)||a.match.coverage.lineup!==2){t.fail("Missing home||away.startinglineup.players")}if(a.match.matchstatus==="live"){return T(e,t,a)}a.lineups=F(a);t.send(a)})).catch((function(e){return t.fail(e)}))}function q(e){return e&&e.players&&e.players.length>0}function T(e,t,r){var a=e.args.matchId;return e.requestPromise(y.matchProviderName,"matchTimeline",{matchId:a}).then((function(a){var n=a.data,i=a.meta;return N(e,t,i,r,n.events)})).catch((function(e){return t.fail(e)}))}function N(e,t,r,a,n){var i;var u=e.meta&&e.meta.eventIndex||{};var s={home:[],away:[]},o={};for(var f=0;f<n.length;f++){var l=n[f];var d=x[l._sid]&&x[l._sid].eventWhiteList;if(l.time>0&&d&&d[l._typeid]){if(Number(l._typeid)===60&&l.playerin&&l.playerout&&l.team){s[l.team].push({playerin:l.playerin._id,playerout:l.playerout._id,time:l.time});if(!u[l._id]){i=true;u[l._id]=f}}else{var c=l.scorer&&l.scorer._id||l.player&&l.player._id;if(c){if(!o[c]){o[c]=[]}o[c].push(l);if(!u[l._id]){i=true;u[l._id]=f}}}}}t.setCompositeValidity(r);if(i||!e.lastResponse){var v=K(a,o,s);v.lineups=F(v);t.send(v,null,{eventIndex:u})}else{t.postpone()}}function K(e,t,r){return{match:e.match,home:E(e.home,r.home),away:E(e.away,r.away),events:t,players:e.players,previous:e.previous}}function E(e,t){return{manager:e.manager,startinglineup:e.startinglineup,substitutes:e.substitutes,substitutions:t}}function F(e){var t,r;var a=e.home.startinglineup.formation&&e.away.startinglineup.formation;var n=e.events;var i=x[e.match._sid];var u=i&&i.eventWhiteList;var s={home:[],away:[]},o={home:[],away:[]},f={},l={};(0,c.default)(t=["home","away"]).call(t,(function(t){var r,n;s[t]=(0,v.default)(r=e[t].startinglineup.players).call(r,(function(t){var r=t.playerid||t._id;l[r]=t.shirtnumber;return D({shirtnumber:t.shirtnumber,order:t.order},e.players[r])}));o[t]=(0,v.default)(n=e[t].substitutes).call(n,(function(t){var r=t.playerid||t._id;l[r]=t.shirtnumber;return D({shirtnumber:t.shirtnumber},e.players[r])}));if(i&&i.sortPlayersByPosition){var d;if(!a){var h;(0,m.default)(h=s[t]).call(h,i.sortPlayersByPosition)}(0,m.default)(d=o[t]).call(d,i.sortPlayersByPosition)}if(u&&u[60]){var p;e[t].substitutions&&(0,c.default)(p=e[t].substitutions).call(p,(function(e){if(!f[e.playerin]){f[e.playerin]=[]}if(!f[e.playerout]){f[e.playerout]=[]}f[e.playerin].push(D({},D({shirtnumber:l[e.playerout]},e)));f[e.playerout].push(D({},D({shirtnumber:l[e.playerin]},e)))}))}}));n&&(0,c.default)(r=(0,h.default)(n)).call(r,(function(e){var t;if(!f[e]){f[e]=[]}var r=u?(0,p.default)(t=n[e]).call(t,(function(e){return u[+e._typeid]})):n;if(f[e][0]&&f[e][0].playerout&&f[e][0].playerout===Number(e)){f[e]=(0,g.default)(r).call(r,f[e])}else{var a;f[e]=(0,g.default)(a=f[e]).call(a,r)}}));return{startinglineup:s,substitutes:o,events:f,hasFormation:a}}},965795:function(e,t,r){"use strict";var a=r(823059);var n=r(809534);var i=r(611955);var u=r(279427);var s=r(746279);var o=r(562857);var f=r(257396);var l=r(541910);var d=r(564836);t.__esModule=true;t["default"]=O;var c=d(r(627424));var v=d(r(238416));var m=d(r(600861));var h=d(r(952527));var p=d(r(611955));var g=r(648421);var _=d(r(74425));var y=d(r(423899));var I=r(852781);function b(e,t){var r=a(e);if(n){var s=n(e);t&&(s=i(s).call(s,(function(t){return u(e,t).enumerable}))),r.push.apply(r,s)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r,a;var n=null!=arguments[t]?arguments[t]:{};t%2?s(r=b(Object(n),!0)).call(r,(function(t){(0,v.default)(e,t,n[t])})):o?f(e,o(n)):s(a=b(Object(n))).call(a,(function(t){l(e,t,u(n,t))}))}return e}var M=[1103,1140,110,1031,1036];function P(e,t,r,a,n,i){if(a&&a.match&&a.match.length===0){return t.fail(new y.default("Invalid match id"))}if(!i){throw new Error("Missing matchKey in match_timeline handler. We couldn't get it from matchTimelineDelta provider")}var u,s;var o;var f=e.lastResponse&&e.lastResponse.specialEvents;if(!f){f=(0,h.default)(M).call(M,(function(e,t){e[t]=null;return e}),{})}var l=false;var d=false;if(n){s=(0,m.default)(n.events);u=x(n.events);o=e.state.matchStore.addOrUpdateMatch(i,n.match);for(var c=0,v=s.length;c<v;c++){(0,I.updateEventWithTimeCorrection)(s[c],o);var g=s[c];var _=f[g._typeid];if(_!==undefined){f[g._typeid]=g;s[c]=null;l=true;d=true}}}else{u=e.meta.eventIndex;s=e.lastResponse.events}var b=!!n;var P;if(a){o=e.state.matchStore.addOrUpdateMatch(i,a.match);for(var O=0,C=a.events.length;O<C;O++){var L=(0,I.updateEventWithTimeCorrection)(a.events[O],o);var S=f[L._typeid];if(S!==undefined){if(!S||S.updated_uts<L.updated_uts){f[L._typeid]=L;l=true}}else{var q=u[L._id];var T=s[q];if(L.disabled){delete u[L._id];s[q]=null;d=true;b=true}else if(T){if(L.updated_uts>T.updated_uts){s[q]=w({},L);b=true}}else{if(!D(s,L)){if(!n){P=true;break}}else{u[L._id]=s.length;s.push(L);b=true}}}}}var N=Date.now();var K=n?r[0].expirationTime:e.meta&&e.meta.fullfeedExpirationTime;if(P){var E=K-N;if(E<0)E=1;return t.postpone(E,null)}t.setCompositeValidity(r);if(b||l){if(d){s=(0,p.default)(s).call(s,(function(e){return e}));u=x(s)}else if(b&&!n){s=(0,m.default)(s)}if(l){f=w({},f)}t.send({events:s,specialEvents:f,match:o},null,{eventIndex:u,timestamp:N,fullfeedExpirationTime:K,matchKey:i})}else{e.meta.timestamp=N;t.postpone()}}function D(e,t){if(t&&t>-1){for(var r=e.length-1;r>=0;--r){var a=e[r];var n=a&&a.time;if(n&&n>-1){return t>=n}}}return true}function x(e){var t={};for(var r=0,a=e.length;r<a;r++){t[e[r]._id]=r}return t}function O(e,t){var r=e.args.matchId;var a=e.lastResponse;if(!r){return t.fail(new y.default("Missing matchId"),60*1e3)}if(a){e.request(g.matchProviderName,"matchTimelineDelta",(function(a,n,i){if(a){return t.postpone(1e4)}if(C(e.meta.timestamp)){P(e,t,i,n,undefined,i.metaData.matchKey)}else{L(e,t,r)}}),{matchId:r})}else{L(e,t,r)}}function C(e){if(Date.now()-e<3e4){return true}else{return false}}function L(e,t,r){e.compose([{providerName:_.default.name,feed:"generic",args:{feed:"match_timeline",params:r}},{providerName:g.matchProviderName,feed:"matchTimelineDelta",args:{matchId:r}}],(function(r,a,n){var i=(0,c.default)(a,2),u=i[0],s=i[1];var o=(0,c.default)(n,2),f=o[1];if(r){var l=(0,c.default)(r,2),d=l[0],v=l[1];return t.fail(d||v)}P(e,t,n,s,u,f.metaData.matchKey)}))}},69554:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=u;var n=a(r(74425));var i=r(648421);function u(e,t){var r=e.args.matchId;var a=e.state.matchStore;var u=e.meta;e.requestPromise(n.default.name,"generic",{feed:"match_timelinedelta",params:r}).then((function(n){var s=n.data,o=n.meta;var f=u&&u.matchKey;if(!f){f=a.getOrCreateKey(r,e.__poller,"matchTimelineDelta")}var l=a.addOrUpdateMatch(f,s.match);var d=(0,i.validityCacheTime)(l);t.setCompositeValidity(o,d.min,d.max);t.send(s,null,{matchKey:f,fishnetMeta:o.metaData})})).catch((function(e){return t.fail(e)}))}},451797:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=s;var n=r(648421);var i=a(r(74425));var u=a(r(187159));function s(e,t){var r=e.args.matchId;e.requestPromise(u.default.name,"match",{matchId:r,static:true}).then((function(a){var u=a.data;return e.requestPromise(i.default.name,"generic",{feed:"stats_match_stats",params:r}).then((function(e){var r=e.data,a=e.meta;var i=(0,n.validityCacheTime)(u);t.setCompositeValidity(a,i.min,i.max);t.send(r)})).catch((function(e){return t.fail(e)}))})).catch((function(e){return t.fail(e)}))}},837631:function(e,t,r){"use strict";var a=r(823059);var n=r(809534);var i=r(611955);var u=r(279427);var s=r(746279);var o=r(562857);var f=r(257396);var l=r(541910);var d=r(564836);t.__esModule=true;t["default"]=q;var c=d(r(238416));var v=d(r(746279));var m=d(r(562856));var h=d(r(61798));var p=d(r(823059));var g=d(r(74425));var _=r(215951);var y=d(r(812209));var I=d(r(704123));var b=r(104072);var w=r(564138);function M(e,t){var r=a(e);if(n){var s=n(e);t&&(s=i(s).call(s,(function(t){return u(e,t).enumerable}))),r.push.apply(r,s)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r,a;var n=null!=arguments[t]?arguments[t]:{};t%2?s(r=M(Object(n),!0)).call(r,(function(t){(0,c.default)(e,t,n[t])})):o?f(e,o(n)):s(a=M(Object(n))).call(a,(function(t){l(e,t,u(n,t))}))}return e}var D=null&&(false&&0);var x=g.default.name;function O(e,t,r){t.timestamp=Date.now();if(t.modified){false&&0;var a=t.matchList;e.send({matches:a.getMatches(),matchKeys:a.getMatchKeys(),updatedMatches:t.updatedMatches,venues:t.venues,tournaments:t.tournaments,uniquetournaments:t.uniquetournaments},1e4,t)}else{false&&0;e.postpone(1e4,t)}}function C(e,t){var r=e.args.hidePostponed;(0,w.getSeasonId)(e,e.args.matchId,e.args.tournamentId,e.args.uniqueTournamentId,e.args.seasonId,(function(a,n){if(a){return t.fail(a)}if(!n){return t.fail("missing season id")}t.meta={seasonId:n};e.request(x,"generic",(function(a,i){var u,s,o;if(a)return t.fail(a);var f=e.state.matchStore.getAllMatchKeys(e.__poller);var l=new y.default;var d=Date.now()/1e3+3600;var c=false;var g;(0,v.default)(u=(0,m.default)(s=(0,h.default)(o=(0,p.default)(i.matches)).call(o,(function(e){return i.matches[e]}))).call(s,(function(e,t){return e._dt.uts-t._dt.uts}))).call(u,(function(t){var a=r&&t.status&&t.status._id===60;if(!a&&(!(e.args.tournamentId&&e.args.uniqueTournamentId)||e.args.tournamentId&&t._tid===e.args.tournamentId||e.args.uniqueTournamentId&&t._utid===e.args.uniqueTournamentId)){l.addMatch(e.state.matchStore,f[t._id]||new I.default(t._id),t,i.tournaments[t._tid],i.categories[t._rcid],i.sports&&i.sports[t._sid]);if(!g){g=t._sid}if(L(t,d)){c=true}}}));O(t,{matchList:l,modified:true,matchInProximity:c,seasonId:n,sportId:g,updatedMatches:l.getMatches(),venues:i.venues,tournaments:i.tournaments,uniquetournaments:i.uniquetournaments})}),{feed:"livescore_season_teamfixtures",params:n+"/"+e.args.teamUid});return true}))}function L(e,t){return e.matchstatus==="live"||e.matchstatus==="recentlyended"||e.status._id===0&&e._dt.uts<t}function S(e,t){var r=e.meta;e.request(x,"generic",(function(a,n,i){if(a){false&&0;return t.postpone(1e4)}var u=i.metaData&&i.metaData._synced;var s=r&&r.matchInProximity;var o=s?3e4:3e5;var f=e.meta&&Date.now()-e.meta.timestamp;if(!(f&&f<o)){false&&0;C(e,t)}else if(r._synced===false&&u===true){false&&0;C(e,t)}else{var l=P(P({},r),{},{_synced:u});var d=l.matchList.updateWithEvents(n,e.state.matchStore);l.modified=!!d;l.updatedMatches=d;O(t,l)}}),{feed:"event_get",params:r.sportId})}function q(e,t){var r=(0,b.getMissingArgs)(e.args,["seasonId","tournamentId","uniqueTournamentId"]);if(r){return t.fail(r)}var a=e.meta;var n=e.lastResponse;var i=a&&a.matchInProximity;if(n){if(i){false&&0;S(e,t)}else{t.postpone(1e4,a)}}else{false&&0;C(e,t)}}},369585:function(e,t,r){"use strict";var a=r(823059);var n=r(809534);var i=r(611955);var u=r(279427);var s=r(746279);var o=r(562857);var f=r(257396);var l=r(541910);var d=r(564836);t.__esModule=true;t["default"]=void 0;var c=d(r(746279));var v=d(r(823059));var m=d(r(174888));var h=d(r(689728));var p=d(r(627424));var g=d(r(238416));var _=d(r(130845));function y(e,t){var r=a(e);if(n){var s=n(e);t&&(s=i(s).call(s,(function(t){return u(e,t).enumerable}))),r.push.apply(r,s)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r,a;var n=null!=arguments[t]?arguments[t]:{};t%2?s(r=y(Object(n),!0)).call(r,(function(t){(0,g.default)(e,t,n[t])})):o?f(e,o(n)):s(a=y(Object(n))).call(a,(function(t){l(e,t,u(n,t))}))}return e}function b(e,t,r,a){var n,i;var u=e[52];var s=u&&u.outcomes;if(!s||!t||t!=="live"||!r&&!a){return}var o=I({},s);(0,c.default)(n=(0,v.default)(o)).call(n,(function(e){var t=o[e];var n=t&&t.name;if(!n)return;var i=n.split(":"),u=(0,p.default)(i,2),s=u[0],f=u[1];if(f!==undefined){var l=Number(s)>=r&&Number(f)>=a;if(!l){o[e]=I(I({},t),{},{odds:"-1.000"})}}}));return i={},i[52]=I(I({},u),{},{outcomes:o}),i}function w(e,t,r,a){var n=b(e,t,r,a);if(n){return I(I({},e),n)}return e}var M=function(){function e(e,t,r,a){this.matchId=void 0;this.updatedUts=void 0;this.bets=void 0;this._originalBets=void 0;this._getFilteredBets=void 0;this.matchId=(0,m.default)(t,10);if(isNaN(this.matchId)){throw new Error('Error casting "'+t+'" to Number')}this._init();this.updatedUts=r;this._originalBets=e;this.bets=this._getBets(a)}var t=e.prototype;t._init=function e(){this._getFilteredBets=(0,_.default)(w)};t.cloneAndMoveHelpers=function t(){var r,a=this;var n=new e(this._originalBets,this.matchId,this.updatedUts);(0,c.default)(r=["_getFilteredBets"]).call(r,(function(e){n[e]=a[e]}));this._init();return n};t._getBets=function e(t){if(t){var r=t.result;return this._getFilteredBets(this._originalBets,t._calc.status.status,r.home||0,r.away||0)}else{return this._originalBets}};t.updateMatch=function e(t){var r=this._getBets(t);if(r!==this.bets){var a=this.cloneAndMoveHelpers();a.bets=r;return a}};return(0,h.default)(e)}();t["default"]=M},648421:function(e,t,r){"use strict";var a=r(823059);var n=r(809534);var i=r(611955);var u=r(279427);var s=r(746279);var o=r(562857);var f=r(257396);var l=r(541910);var d=r(564836);t.__esModule=true;t.getDateStringFromOffset=q;t.getDayOffset=S;t.getDevMatchWarning=C;t.isMatchUpdated=D;t.matchProviderName=void 0;t.stripMatchObj=T;t.validityCacheTime=L;var c=d(r(238416));var v=d(r(496507));var m=d(r(562857));var h=d(r(952527));var p=d(r(541910));var g=d(r(746279));var _=r(215951);var y=d(r(817677));var I=d(r(151304));var b=d(r(439198));var w=d(r(37016));function M(e,t){var r=a(e);if(n){var s=n(e);t&&(s=i(s).call(s,(function(t){return u(e,t).enumerable}))),r.push.apply(r,s)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r,a;var n=null!=arguments[t]?arguments[t]:{};t%2?s(r=M(Object(n),!0)).call(r,(function(t){(0,c.default)(e,t,n[t])})):o?f(e,o(n)):s(a=M(Object(n))).call(a,(function(t){l(e,t,u(n,t))}))}return e}function D(e,t){if(t){if(e){if(e.updated_uts<t.updated_uts){return true}}return true}return false}var x="fishnetMatchProvider";t.matchProviderName=x;var O=null&&(false&&0);function C(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(false){var r}else{return e}}function L(e){var t;var r;if(e&&e.matchstatus!=="live"&&e.matchstatus!=="recentlyended"){var a=e.status&&e.status._id;var n=Date.now();var i=e._dt.uts*1e3-n;if(a===0||a===61||a===22){if(i>12*3600*1e3){r=12e4}else if(i>6e5){r=25e3}}else{var u=-i;if(e.timeinfo&&e.timeinfo.ended){u=n-Number(e.timeinfo.ended)*1e3}if(u>12*3600*1e3){t=0}else{r=25e3}}}return{min:r,max:t}}function S(e){var t=e.args;if(t){var r=t.dayOffset,a=t.date;if(r||r===0)return r==="live"?0:r;if(a){if(a==="live"){return 0}var n=e.getCctx();return(0,I.default)((0,b.default)(n),(0,y.default)(n,a))}}}function q(e,t){var r=(0,b.default)(t);if(e){r.setDate(r.getDate()+e)}var a=r.getMonth()+1;var n=r.getDate();var i=r.getFullYear();return[i,a<10?"0"+a:a,n<10?"0"+n:n].join("-")}function T(e,t){if(false){var r}else{return e}}},158047:function(e,t,r){"use strict";var a=r(823059);var n=r(809534);var i=r(611955);var u=r(279427);var s=r(746279);var o=r(562857);var f=r(257396);var l=r(541910);var d=r(564836);t.__esModule=true;t.applyMatchCalc=he;var c=d(r(686209));var v=d(r(135021));var m=d(r(257396));var h=d(r(541910));var p=d(r(627424));var g=d(r(238416));var _=r(963866);var y=d(r(342981));var I=d(r(856176));var b=d(r(773144));var w=d(r(81045));var M=d(r(962216));var P=d(r(221535));var D,x,O,C,L,S,q,T,N,K,E;function F(e,t){var r=a(e);if(n){var s=n(e);t&&(s=i(s).call(s,(function(t){return u(e,t).enumerable}))),r.push.apply(r,s)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r,a;var n=null!=arguments[t]?arguments[t]:{};t%2?s(r=F(Object(n),!0)).call(r,(function(t){(0,g.default)(e,t,n[t])})):o?f(e,o(n)):s(a=F(Object(n))).call(a,(function(t){l(e,t,u(n,t))}))}return e}var R=(D={},D[0]=true,D[22]=true,D[60]=true,D[61]=true,D);var k=(x={},x[1]=true,x[4]=true,x[6]=true,x[137]=true,x[195]=true,x);var U=(O={},O[1]=true,O[6]=true,O[12]=true,O[137]=true,O[138]=true,O);var j=(C={},C[30]=true,C[31]=true,C[32]=true,C[33]=true,C[34]=true,C[35]=true,C[301]=true,C[302]=true,C[303]=true,C[304]=true,C[445]=true,C);var B=(0,P.default)((L={},L[1]=2,L[2]=4,L[3]=9,L[4]=3,L[5]=2,L[6]=2,L[16]=4,L[20]=3,L[23]=3,L[31]=2,L[34]=2,L[37]=3,L[137]=2,L[153]=4,L[195]=3,L[138]=2,L));var G=(S={},S[1]=45,S[2]=10,S[4]=20,S[6]=30,S[16]=15,S[138]=20,S);var V=(q={},q[1]=15,q[2]=5,q[4]=20,q[6]=5,q[16]=10,q[138]=3,q);var W=(K={},K[4]=(T={},T[125]=true,T[110]=true,T[35]=true,T[52]=true,T[111]=true,T),K[12]=(N={},N[110]=true,N),K);W[195]=W[4];function Y(e,t){return function(){var r=this;var a=r[e];if(!(e in r)){a=r[e]=t(r,r.match)}return a}}function z(e){var t=(0,y.default)(e,"status");return t&&!(0,M.default)(t)?t._id:0}function H(e){var t=(0,y.default)(e,"status");return t&&!(0,M.default)(t)?t.name:undefined}var $=Y("__statusObj",(function(e,t){var r=z(t);var a=H(t);var n=(0,y.default)(t,"coverage");var i=(0,y.default)(t,"matchstatus");if(!i||i===true){if(r>=531&&r<=539){i="live"}else if(r>=501&&r<=526){i="live"}else if(r>0&&r<90||r>300&&r<310||r===445){if(r===81||r===70){i="post"}else if(R[r]){i="pre"}else{i="live"}}else if(r===0){i="pre"}else{i="post"}}var u={showClock:false,isPause:false,coverageLimited:false,noCoverage:false,statusStr:a,status:i,id:r};if(i==="live"||r===80){u.status="live"}else if(R[r]&&!(0,y.default)(t,"decidedbyfa")){u.status="pre"}else{u.status="post"}var s=0;var o=(0,y.default)(t,"_dt");if(o&&o.uts){s=Math.ceil((o.uts*1e3-Date.now())/(1e3*3600*24))}if(n&&s<=14&&!(0,w.default)(t)){if(n.scoutcoveragestatus!==0||n.lmtsupport<3){u.coverageLimited=true}if(n.lmtsupport===1||n.scoutmatch===1&&n.scoutcoveragestatus===1){u.noCoverage=true}}if(i==="live"&&r!==80&&r!==70&&r!==50&&r!==52&&r!==53){u.showClock=true}u.isPause=!!j[r];return u}));var J=(E={},E[1]="p1",E[2]="p2",E[3]="p3",E[4]="p4",E[5]="p5",E[8]="p1",E[9]="p2",E[10]="p3",E[11]="p4",E[12]="p5",E);var Q=Y("__gamescore",(function(e,t){var r=(0,y.default)(t,"status");var a=t._sid;if(!("gamescore"in t)){return}var n=A({},t.gamescore);if((0,_.isMatchOfSport)(t,5)){if(n.home===50&&n.away===40){n.home="AD"}else if(n.away===50&&n.home===40){n.away="AD"}}else if((0,I.default)(a)&&r&&t.periods){var i=!(0,M.default)(r)&&J[r._id];if(i){var u=t.periods[i]||{home:0,away:0};n=A(A({},n),u)}}return n}));var X=Y("__currentPeriod",(function(e,t){var r=(0,y.default)(t,"p");var a=Number(r)||0;var n=z(t);var i;if(a===20||n===50){i="ap"}else if(a===10||a===11||a===12||n===41||n===42||n===40||a===91&&t._sid===138){i="ot"}else if(a>0&&a<10){if((t._sid===2||t._sid===153)&&a>4){i=a-4+""}else{i=r}}else if(t._sid===3&&a>100&&a<110){i=a%10}return i}));var Z=function e(){return this.numberOfPeriods};var ee=Y("__numberOfPeriods",(function(e,t){var r=t._sid;if((0,I.default)(r)){var a=e.periods&&e.periods._latest||0;var n=Math.ceil(((0,y.default)(t,"bestofsets")||0)/2);var i=B[r]||0;return Math.max(a,n,i)}else if((0,_.isMatchOfSport)(t,3)){var u=(0,y.default)(t,"numberofperiods")||B[3];var s=t.period_scores&&t.period_scores.length||0;return Math.max(u,s)}else{return(0,y.default)(t,"numberofperiods")||B[r]}}));function te(e){return Math.ceil((Date.now()-Number((0,y.default)(e,"ptime")||0)*1e3)/1e3/60)}var re=Y("__matchLength",(function(e,t){var r=z(t);var a;switch(r){case 6:a=te(t);return a;case 7:a=te(t);return a+e.periodlength;case 100:case 32:return e.periodlength*2;case 110:case 120:case 34:return e.periodlength*2+e.overtimelength*2;case 33:return e.periodlength*2+e.overtimelength;case 30:case 31:return e.periodlength;case 41:a=te(t);return a+e.periodlength*2;case 42:a=te(t);return a+e.periodlength*2+e.overtimelength;default:return 0}}));var ae=Y("__periodlength",(function(e,t){return(0,y.default)(t,"periodlength")||G[t._sid]}));var ne=Y("__overtimelength",(function(e,t){return(0,y.default)(t,"overtimelength")||V[t._sid]}));var ie=Y("__hfWithCoverage",(function(e,t){var r=(0,y.default)(t,"hf");if(r===undefined){return 0}var a=(0,y.default)(t,"coverage");if(a){if(a.lmtsupport){r+=a.lmtsupport}if(a.liveodds){r+=2}if(a.deepercoverage){r+=1}if(a.tacticallineup){r+=1}if(a.ballspotting){r+=1}if(a.multicast){r+=1}}return r}));var ue=Y("__result",(function(e,t){var r=z(t);var a=t.result;if(a&&(t._sid===1||t._sid===137)){if(r===120||(0,y.default)(t,"p")==="20"||r===50){var n=a.home||0;var i=a.away||0;var u=t.periods&&(t.periods.ot||t.periods.ft)||{home:null,away:null};return{winner:a.winner,away:i-(u.away||0),home:n-(u.home||0)}}}if(!a||a.home===undefined||a.away===undefined){return{winner:null,away:null,home:null}}return a}));var se=Y("__lastResult",(function(e,t){var r=z(t);var a=t.periods||{};var n=null;var i;if((0,y.default)(t,"decidedbyfa")){return n}else if(a.ap||r===50||r===120||r===123||r===121){if(a.ot){n=a.ot;i="aet"}else if(a.ft){n=a.ft;i="ft"}}else if(a.ot||r===41||r===33||r===42||r===40){n=a.ft;i="ft"}else if(a.ft||r===7||r===32){var u=t._sid;if(u===1||u===137||u===6||u===12||u===138){n=a.p1;i="ht"}}if(n){return A(A({},n),{},{type:i})}}));function oe(e,t){var r=t.periods?A({},t.periods):{};var a=t.result;var n=a&&a.home||0;var i=a&&a.away||0;var u;var s=t._sid;var o=z(t);var f=(0,y.default)(t,"p");var l=e.currentPeriod;var d=W[s];if(o===0||o===22||!a){}else if(!(0,I.default)(s)&&!r.ft&&f!=="0"){var v=0,m=0;var h=1;var g;while(g=r["p"+h]){v+=g.away||0;m+=g.home||0;u=h;h++}var b;if(l&&!r["p"+l]){b=l}else if(m<n||v<i){b=h}if(b){r["p"+b]={away:i-v,home:n-m};u=b}}else if(l==="ot"||o===33||r.ot&&o===34||r.ot&&d&&d[o]){u="ot"}else{var w=1;while(r["p"+w]){u=w;w++}if(U[s]&&r.ft){u=w}}if(r.ft){if(r.ot||l==="ot"||o===33){if(!r.ot||!r.ot.home&&!r.ot.away){r.ot={away:i-(r.ft.away||0),home:n-(r.ft.home||0)}}else{r.ot={home:(r.ot.home||0)-(r.ft.home||0),away:(r.ot.away||0)-(r.ft.away||0)}}}else if(o===32||o===30){if(r.ft.home!==n||r.ft.away!==i){r.ot={away:i-(r.ft.away||0),home:n-(r.ft.home||0)};u="ot"}else{r.ot={home:null,away:null}}}}else if((s===2||s===153)&&o===30&&f==="34"){r.ot={home:null,away:null}}if(r.ap||l==="ap"||f==="34"&&k[s]){if(r.ap&&((0,_.isMatchOfSport)(t,4)||(0,_.isMatchOfSport)(t,195))){r.ap=A({},r.ap);r.ap.home=r.ap.home||0;r.ap.away=r.ap.away||0;if(r.ap.home>r.ap.away){r.ap.home=1;r.ap.away=0}else if(r.ap.home<r.ap.away){r.ap.home=0;r.ap.away=1}else{r.ap.home=0;r.ap.away=0}}else{var M,P;var D=((M=t.periods)==null?void 0:M.ot)||((P=t.periods)==null?void 0:P.ft);r.ap={away:i-(D&&D.away||0),home:n-(D&&D.home||0)}}}if((0,_.isMatchOfSport)(t,5)){for(var x=0,O=(0,c.default)(r);x<O.length;x++){var C=(0,p.default)(O[x],2),L=C[0],S=C[1];var q=t.tiebreaks&&t.tiebreaks[L];if(q){r[L]=A(A({},S),{},{tiebreak:t.tiebreaks&&t.tiebreaks[L]})}}}if(false){}return{periods:r,_latest:u}}var fe=Y("__latestPeriod",(function(e,t){var r=oe(e,t),a=r._latest;return a}));var le=Y("__periods",(function(e,t){var r=oe(e,t),a=r.periods,n=r._latest;return A(A({},a),{},{_latest:n})}));var de=Y("__teams",(function(e,t){return(0,b.default)(t)}));var ce={status:{get:$},result:{get:ue},lastResult:{get:se},periods:{get:le},latestPeriod:{get:fe},currentPeriod:{get:X},gamescore:{get:Q},numberOfPeriods:{get:ee},hfWithCoverage:{get:ie},periodlength:{get:ae},overtimelength:{get:ne},matchLength:{get:re},teams:{get:de}};var ve={getNumberOfPeriods:{value:Z}};function me(){var e=this;var t={match:e};(0,m.default)(t,ce);(0,m.default)(t,ve);(0,h.default)(e,"_calc",{value:t});return t}function he(e){if(!("_calc"in e)){(0,h.default)(e,"_calc",{get:me,configurable:true})}return e}},704123:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=void 0;var n=a(r(174888));var i=a(r(689728));var u=function(){function e(e){this.id=void 0;this.id=(0,n.default)(e,10);if(isNaN(this.id)){throw new Error('Error casting "'+e+'" to Number')}}var t=e.prototype;t.toString=function e(){return""+this.id};return(0,i.default)(e)}();t["default"]=u},812209:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=void 0;var n=a(r(689728));var i=a(r(342981));var u=r(215951);var s=function(){function e(){this._matches=void 0;this._matchIx=void 0;this._matchKeys=void 0;this._tournaments=void 0;this._realcategories=void 0;this._sports=void 0;this._requiresEventGet=void 0;this._matches=[];this._matchIx={};this._matchKeys={};this._tournaments={};this._realcategories={};this._sports={};this._requiresEventGet=false}var t=e.prototype;t.addMatch=function e(t,r,a,n,i,s){if(!a||a.removed){return}if(!this._tournaments[a._tid]){this._tournaments[a._tid]=n;if(!this._realcategories[a._rcid]){this._realcategories[a._rcid]=i;if(s&&!this._sports[a._sid]){this._sports[a._sid]=s}}}var o=a._id;if(!this._matchIx[o]){this._matchIx[o]=this._matches.length;this._matchKeys[o]=r;this._matches.push(t.addOrUpdateMatch(r,a))}else{(0,u.warn)("Match override while adding into matchlist! MatchId: "+a._id)}};t._update=function e(t,r){var a=this._matchIx[t._id];if(a!==undefined){var n=this._matches[a];var i=r.addOrUpdateMatch(this._matchKeys[t._id],t);if(i!==n){this._matches[a]=i;return i}}return false};t.getSport=function e(t){return this._sports[t]};t.getSports=function e(){return this._sports};t.getRealCategory=function e(t){return this._realcategories[t]};t.getTournament=function e(t){return this._tournaments[t]};t.getTournaments=function e(){return this._tournaments};t.getMatch=function e(t){return this._matches[this._matchIx[t]]};t.getMatches=function e(){return this._matches};t.getMatchKey=function e(t){return this._matchKeys[t]};t.getMatchKeys=function e(){return this._matchKeys};t.updateWithEvents=function e(t,r){var a;var n;for(var u=0,s=t.length;u<s;++u){var o=(0,i.default)(t[u],"match");var f=o&&this._update(o,r);if(f){if(!a||!n){a=[];n={}}var l=n[f._id];if(l===undefined){l=a.length;n[f._id]=l}a[l]=f}}return a};return(0,n.default)(e)}();t["default"]=s},929700:function(e,t,r){"use strict";var a=r(823059);var n=r(809534);var i=r(611955);var u=r(279427);var s=r(746279);var o=r(562857);var f=r(257396);var l=r(541910);var d=r(564836);t.__esModule=true;t["default"]=void 0;var c=d(r(689728));var v=d(r(238416));var m=d(r(952527));var h=d(r(746279));var p=d(r(823059));var g=d(r(972010));var _=r(648421);var y=d(r(328583));var I=d(r(704123));var b=d(r(369585));var w=r(158047);var M=d(r(717187));var P=d(r(216724));function D(e,t){var r=a(e);if(n){var s=n(e);t&&(s=i(s).call(s,(function(t){return u(e,t).enumerable}))),r.push.apply(r,s)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r,a;var n=null!=arguments[t]?arguments[t]:{};t%2?s(r=D(Object(n),!0)).call(r,(function(t){(0,v.default)(e,t,n[t])})):o?f(e,o(n)):s(a=D(Object(n))).call(a,(function(t){l(e,t,u(n,t))}))}return e}function O(e,t){return e.providers[t.provider].cache.getAllFromGroup(t.provider+"."+t.feed)||[]}function C(e,t,r){var a=O(e,r);for(var n=0,i=a.length;n<i;++n){var u=a[n].metaData;var s=(0,P.default)(u,"matchlist");if(s){var o=s.getMatchKey(Number(t));if(o){return o}}}}function L(e,t){var r;return(0,m.default)(r=O(e,t)).call(r,(function(e,t){var r=(0,P.default)(t.metaData,"matchlist");if(r){(0,y.default)(e,r.getMatchKeys())}return e}),{})}function S(e,t){var r;return(0,m.default)(r=O(e,t)).call(r,(function(e,t){var r=(0,P.default)(t.metaData,"matchKey");var a=t.args.matchId;if(r&&a){e[a]=r}return e}),{})}function q(e,t,r){var a;var n;(0,h.default)(a=O(e,r)).call(a,(function(e){var r=e.metaData,a=e.args;if(r){var i=(0,P.default)(r,"matchKey");var u=a.matchId;if(u&&i&&t==u){n=i;return true}}}));return n}function T(e,t,r){var a=e.updatedUts;if(r<=a)return false;var n=e.bets;var i=(0,p.default)(t);var u;for(var s=0,o=i.length;s<o;++s){var f=i[s];var l=n[f];if(!l||(l.updated_uts?l.updated_uts<t[f].updated_uts||l.active!==t[f].active:a<r)){if(!u){u={}}u[f]=t[f]}}if(u){return x(x({},n),u)}return false}var N=[{feed:"match",provider:_.matchProviderName,getKey:q,getKeys:S},{feed:"fullfeed",provider:_.matchProviderName,getKey:C,getKeys:L},{feed:"fixtures",provider:_.matchProviderName,getKey:C,getKeys:L},{feed:"matchInfo",provider:_.matchProviderName,getKey:q,getKeys:S},{feed:"matchTimeline",provider:_.matchProviderName,getKey:q,getKeys:S},{feed:"matchTimelineDelta",provider:_.matchProviderName,getKey:q,getKeys:S},{feed:"matchOdds",provider:_.matchProviderName,getKey:q,getKeys:S}];var K=function e(t,r){return t+"-"+r};var E=function(){function e(){this.s=void 0;this.b=void 0;this.em=void 0;this.bem=void 0;this.s=new g.default;this.b={};this.em=new M.default;this.em.setMaxListeners(0);this.bem=new M.default;this.bem.setMaxListeners(0)}var t=e.prototype;t.addListener=function e(t,r){this.em.addListener(String(t),r)};t.removeListener=function e(t,r){this.em.removeListener(String(t),r)};t.addBetListener=function e(t,r,a){this.bem.addListener(K(t,r),a)};t.removeBetListener=function e(t,r,a){this.bem.removeListener(K(t,r),a)};t.addOrUpdateBet=function e(t,r,a,n){var i=this.getBet(t,n);var u=i?T(i,r,a):r;if(u){var s=new b.default(u,t.id,a,this.get(t));return this.setBet(t,n,s)}return i};t.setBet=function e(t,r,a){var n=this.b[r];if(!n){n=this.b[r]=new g.default}n.set(t,a);this.bem.emit(K(t.id,r),a);return a};t.getBet=function e(t,r){if(!r){throw new Error("BookmakerId is required for getting bet object from internal store")}var a=this.b[r];return a&&a.get(t)};t.updateBets=function e(t,r){var a,n=this;(0,h.default)(a=(0,p.default)(this.b)).call(a,(function(e){var a=n.getBet(t,e);var i=a&&a.updateMatch(r);if(i){n.setBet(t,e,i)}}))};t.addOrUpdateMatch=function e(t,r){if(r._id!=t.id){throw new Error("Invalid combination of match and matchKey")}var a=this.s.get(t);if(!a||a.updated_uts<r.updated_uts||r.updated_uts===undefined){var n=(0,w.applyMatchCalc)(r);this.s.set(t,n);this.em.emit(String(t.id),n);this.updateBets(t,n);return n}return a};t.get=function e(t){return this.s.get(t)};t.getStatic=function e(t){var r=this.s.get(t);return r&&(0,_.getDevMatchWarning)(r)};t.getOrCreateKey=function e(t,r,a){return this.getKey(t,r,a)||new I.default(t)};t.getKey=function e(t,r,a){for(var n=0,i=N.length;n<i;++n){var u=N[n];if(u.feed===a){continue}var s=u.getKey(r,t,u);if(s){return s}}};t.getAllMatchKeys=function e(t,r){var a={};for(var n=0,i=N.length;n<i;++n){var u=N[n];if(u.feed===r){continue}var s=u.getKeys(t,u);if(s){(0,y.default)(a,s)}}return a};return(0,c.default)(e)}();t["default"]=E},852781:function(e,t){"use strict";t.__esModule=true;t.updateEventWithTimeCorrection=r;function r(e,t){if(e.time<0){e.originalTime=e.time}switch(e.time){case-2:e.time=0;break;case-3:e.time=t._calc.periodlength;break;case-8:case-4:e.time=t._calc.matchLength;break;case-5:e.time=e.timereal;break;default:break}return e}},564138:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t.getSeasonId=s;t.getSeasonIdPromise=o;t.getUniqueTournamentId=l;t.getUniqueTournamentIdPromise=d;t.queryTournamentInfo=f;var n=a(r(427460));var i=a(r(74425));var u=a(r(187159));function s(e,t,r,a,n,s){if(n){return s(null,n,"seasonId",n)}else if(r){f(e,r,s)}else if(a){e.request(i.default.name,"generic",(function(e,t,r){if(e)return s(e);return s(null,t.uniquetournament.currentseason,"uniqueTournamentId",t)}),{feed:"uniquetournament_info",params:a})}else if(t){e.request(u.default.name,"match",(function(t,r,a){if(t)return s(t);if(!r._seasonid){return f(e,r._tid,s)}return s(null,r._seasonid,"matchId",r)}),{matchId:t})}else{s(false)}return true}function o(e,t,r,a,i){return new n.default((function(n,u){s(e,t,r,a,i,(function(e,t){if(e){u(e)}else if(!t){u("missing season id")}else{n(t)}}))}))}function f(e,t,r){e.request(i.default.name,"generic",(function(e,t,a){if(e)return r(e);return r(null,t.tournament.currentseason,"tournamentId",t)}),{feed:"tournament_info",params:t})}function l(e,t,r,a,n,s){if(n){return s(null,n,"uniqueTournamentId",n)}else if(r){e.request(i.default.name,"generic",(function(e,t,r){if(e)return s(e);return s(null,t._utid,"tournamentId",t)}),{feed:"tournament_info",params:r})}else if(a){e.request(i.default.name,"generic",(function(e,t,r){if(e)return s(e);return s(null,t.uniquetournament._utid,"seasonId",t)}),{feed:"stats_season_meta",params:a})}else if(t){e.request(u.default.name,"match",(function(e,t,r){if(e)return s(e);return s(null,t._utid,"matchId",t)}),{matchId:t})}else{s(false)}return true}function d(e,t,r,a,i){return new n.default((function(n,u){l(e,t,r,a,i,(function(e,t){if(e){u(e)}else if(!t){u("Missing uniquetournament ID")}else{n(t)}}))}))}},963866:function(e,t){"use strict";t.__esModule=true;t.isMatchOfSport=r;function r(e,t){return Number(e._sid)===t}},587425:function(e,t){"use strict";t.__esModule=true;t.sportsWithNoCrests=t.sportsWithDoubles=void 0;var r,a;var n=(r={},r[34]=true,r[20]=true,r[31]=true,r[22]=true,r);t.sportsWithDoubles=n;var i=(a={},a[37]=true,a[34]=true,a[20]=true,a[31]=true,a);t.sportsWithNoCrests=i},773144:function(e,t,r){"use strict";var a=r(823059);var n=r(809534);var i=r(611955);var u=r(279427);var s=r(746279);var o=r(562857);var f=r(257396);var l=r(541910);var d=r(564836);t.__esModule=true;t["default"]=y;var c=d(r(219373));var v=d(r(238416));var m=r(587425);function h(e,t){var r=a(e);if(n){var s=n(e);t&&(s=i(s).call(s,(function(t){return u(e,t).enumerable}))),r.push.apply(r,s)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r,a;var n=null!=arguments[t]?arguments[t]:{};t%2?s(r=h(Object(n),!0)).call(r,(function(t){(0,v.default)(e,t,n[t])})):o?f(e,o(n)):s(a=h(Object(n))).call(a,(function(t){l(e,t,u(n,t))}))}return e}function g(e,t,r,a,n){return{name:e,mediumname:t,abbr:r,cc:a.cc,disableCrest:m.sportsWithNoCrests[n],fakeChildId:a.uid||a._id}}function _(e,t){var r=e.name&&e.name.split("/")||[];var a=e.mediumname&&e.mediumname.split("/")||[];var n=e.abbr&&e.abbr.split("/")||[];if(!e.children){e.children=[g(r[0],a[0],n[0],e,t),g(r[1],a[1],n[1],e,t)]}else if(e.children.length===2){var i=e.children;e.children=[p({},i[0]||g(r[0],a[0],n[0],e,t)),p({},i[1]||g(r[1],a[1],n[1],e,t))];var u=e.children[0];var s=e.children[1];var o=m.sportsWithNoCrests[t];u.disableCrest=o;s.disableCrest=o}}function y(e){var t;var r=e||{},a=r.teams;if(!a||!a.home||!a.away){return a}var n={home:p({},a.home),away:p({},a.away)};var i=e._sid;var u=m.sportsWithNoCrests[i];n.home.disableCrest=u;n.away.disableCrest=u;var s=a.home.children||m.sportsWithDoubles[i]&&a.home.name&&(0,c.default)(t=a.home.name).call(t,"/")>-1;if(s){_(n.home,i);_(n.away,i)}return n}},791327:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=t.Group=void 0;var n=a(r(562856));var i=a(r(823059));var u=a(r(61798));var s=a(r(746279));var o=a(r(541910));var f=a(r(952527));var l=a(r(611955));var d=a(r(689728));var c=function(){function e(e){var t=this;this._onGroupDeleted=function(e){delete t._groups[e]};if(!e.getElementId){throw new Error("getElementId function is required in GroupedList config!")}if(!e.isElementUpdated){throw new Error("isElementUpdated function is required in GroupedList config!")}if(!e.groups){throw new Error("groups config is required in GroupedList config")}this._groupConfig=e;this._elements={};this._mainGroup=new m(null,"main",null,(0,n.default)(e));this._groups={main:this._mainGroup};if(e.counters){var r;this._counterNames=(0,i.default)(e.counters);this._counters=(0,u.default)(r=this._counterNames).call(r,(function(t){return{name:t,fn:e.counters[t]}}));this._mainGroup._initCounters(this._counterNames)}}var t=e.prototype;t.addOrUpdateElements=function e(t,r){var a=this;var n=false;(0,s.default)(t).call(t,(function(e){var t=a._groupConfig;var i=t.getElementId(e,r);var u=a._elements[i];if(!t.isElementFiltered||t.isElementFiltered(i,e,r)){if(u){if(t.isElementUpdated&&t.isElementUpdated(i,u.el,e)){var s=a._getElementLeafGroup(e,r);if(s!==u.group){u.group.remove(i);a.updateCounterValues(u.counters,null,null,null,u.group._decreaseCounter,u.group);u.group=s}s.add(i,e,r);u.el=e;a.updateCounterValues(u.counters,e,r,s._increaseCounter,s._decreaseCounter,s);n=true}}else{var o=a._getElementLeafGroup(e,r);o.add(i,e,r);a._elements[i]={el:e,group:o};a._elements[i].counters=a.updateCounterValues({},e,r,o._increaseCounter,null,o);n=true}}else{if(u){u.group.remove(i);a.updateCounterValues(u.counters,null,null,null,u.group._decreaseCounter,u.group);delete a._elements[i];n=true}}}));return n};t.updateCounterValues=function e(t,r,a,n,i,u){var s=this._counters;if(!s)return;for(var o=0,f,l,d;f=s[o];++o){l=r?f.fn(r,a):false;d=f.name;if(t[d]!==l){if(l){n&&n.call(u,d)}else{i&&i.call(u,d)}}t[d]=l}return t};t.forEach=function e(t){var r;(0,s.default)(r=this._mainGroup).call(r,t)};t.forEachLeaf=function e(t){this._mainGroup.forEachLeaf(t)};t.getChildren=function e(){return this._mainGroup.getChildren()};t._getElementLeafGroup=function e(t,r){var a=0,i=this._mainGroup;var u=this._groupConfig.groups,s=u.length,o=this._groups;for(;a<s;++a){var f=u[a];var l=f.getId(t,r);var d=i.id+"."+l;var c=i;i=o[d];if(!i){i=o[d]=new m(c,d,f.getGroupInfo&&f.getGroupInfo(l,r),(0,n.default)(f),f.children,f.group,this._onGroupDeleted);if(this._counterNames){i._initCounters(this._counterNames)}c.add(d,i)}}return i};return(0,d.default)(e)}();t["default"]=c;var v={asc:function e(t,r){var a=t.sortVal,n=r.sortVal;if(a>n){return 1}else if(a===n){return 0}return-1},desc:function e(t,r){var a=t.sortVal,n=r.sortVal;if(a<n){return 1}else if(a===n){return 0}return-1}};var m=function(){function e(e,t,r,a){var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"children";var i=arguments.length>5&&arguments[5]!==undefined?arguments[5]:"group";var u=arguments.length>6?arguments[6]:undefined;this.id=t;this._parentGroup=e;this._elementIx={};this._elements=[];this._cn=n;this._n=i;this._sortNeeded=false;this._purgeNeeded=0;this._onRemove=u;this._sort=null;if(a){var s=a.getVal,f=a.dir,l=a.sortFn;if(!s){throw new Error("getVal is needed when defining sort configuration for a group")}if(!l&&f){l=v[f];if(!l){throw new Error('dir must be "asc" or "desc"')}}else{throw new Error("sortFn or dir must be specified")}this._sort={getVal:s,sortFn:l}}(0,o.default)(this,n,{get:function e(){return this.getChildren()}});this[i]=r}var t=e.prototype;t._initCounters=function e(t){this.counters={};(0,f.default)(t).call(t,(function(e,t){e.counters[t]=0;return e}),this)};t._increaseCounter=function e(t){if(false){}++this.counters[t];if(this._parentGroup)this._parentGroup._increaseCounter(t)};t._decreaseCounter=function e(t){if(false){}--this.counters[t];if(false){}if(this._parentGroup)this._parentGroup._decreaseCounter(t)};t.getChildren=function e(){this.finalize();return this._elements};t.forEachLeaf=function t(r){var a=this.getChildren();(0,s.default)(a).call(a,(function(t){if(t.el instanceof e){t.el.forEachLeaf(r)}else{r(t)}}))};t.forEach=function e(t){this.getChildren().foreEach((function(e){t(e.el)}))};t.add=function e(t,r,a){var n=this._elementIx[t];if(n===undefined){n=this._elements.length;this._elementIx[t]=n;this._elements.push({id:t,sortVal:this._sort&&this._sort.getVal(r,a),el:r});this._sortNeeded=true;return true}else{this._elements[n].el=r;if(this._sort){if(this._sort.getVal){var i=this._sort.getVal(r,a);if(i!==this._elements[n].sortVal){this._sortNeeded=true;return true}}}}};t.remove=function e(t){var r=this._elementIx[t];if(r!==undefined){this._elements[r]=null;delete this._elementIx[t];++this._purgeNeeded;if(this._parentGroup&&this._purgeNeeded===this._elements.length){this._parentGroup.remove(this.id);this._onRemove&&this._onRemove(this.id)}}};t.finalize=function e(){var t=this;var r;if(this._purgeNeeded){var a;this._elements=(0,l.default)(a=this._elements).call(a,(function(e){return e}));this._purgeNeeded=0;r=true}if(this._sort&&this._sortNeeded){var i;(0,n.default)(i=this._elements).call(i,this._sort.sortFn);r=true;this._sortNeeded=false}if(r){var u;(0,s.default)(u=this._elements).call(u,(function(e,r){t._elementIx[e.id]=r}))}};t.toString=function e(){return this._n+" "+this.id+" ("+this._elements.length+" "+this._cn};return(0,d.default)(e)}();t.Group=m},817677:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=s;var n=a(r(976361));var i=a(r(439198));var u=/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}$/;function s(e,t){var r=u.test((0,n.default)(t).call(t))?t.split("T"):[t];var a=r[0].split("-");if(a.length!==3){throw new Error("Invalid date string. required yyyy-mm-dd")}return(0,i.default)(e,+a[0],Number(a[1])-1,+a[2])}},151304:function(e,t){"use strict";t.__esModule=true;t["default"]=void 0;function r(e,t){if(!e||!t){return null}var r=24*60*60*1e3;var a,n,i;if(e>t){a=e;n=t;i=-1}else{a=t;n=e;i=1}a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),12,0,0,0);n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),12,0,0,0);var u=a.getTime()-n.getTime();var s=Math.round(u/r);if(s!==0){s*=i}return s}var a=r;t["default"]=a},221535:function(e,t){"use strict";t.__esModule=true;t["default"]=r;function r(e){return e}},99581:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=i;var n=a(r(952527));function i(e,t){if(!e||!t){return null}else{var r;return(0,n.default)(r=t.split(".")).call(r,(function(e,t){return typeof e==="undefined"||e===null?e:e[t]}),e)}}},342981:function(e,t){"use strict";t.__esModule=true;t["default"]=void 0;function r(e,t){return e&&e[t]}var a=r;t["default"]=a},216724:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=i;var n=a(r(99581));function i(e,t){return(0,n.default)(e,t)}},815073:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=void 0;var n=a(r(611955));var i=a(r(61798));function u(e){var t,r;if(typeof e!=="string"){return undefined}if(e===""){return[]}return(0,n.default)(t=(0,i.default)(r=e.split(",")).call(r,Number)).call(t,(function(e){return!isNaN(e)}))}var s=u;t["default"]=s},519325:function(e,t){"use strict";t.__esModule=true;t["default"]=r;function r(e,t,r,a,n){return!(e&&a&&e[a])&&(!t&&!r||t&&t[n]||r&&a&&r[a])}},984461:function(e,t){"use strict";t.__esModule=true;t["default"]=r;function r(e){var t=e&&e._sid;if(!t){return false}else if(t===137||t===153||t===195){return true}else{return false}}},856176:function(e,t,r){"use strict";var a=r(564836);t.__esModule=true;t["default"]=u;var n=a(r(219373));var i=[5,23,34,31,20,37];function u(e){return(0,n.default)(i).call(i,e)>-1}},81045:function(e,t){"use strict";t.__esModule=true;t["default"]=n;var r;var a=(r={},r[2123]=true,r[2246]=true,r[2157]=true,r[2158]=true,r);function n(e){var t=e&&e._rcid;if(!t){return false}return!!a[t]}},717187:function(e){"use strict";var t=typeof Reflect==="object"?Reflect:null;var r=t&&typeof t.apply==="function"?t.apply:function e(t,r,a){return Function.prototype.apply.call(t,r,a)};var a;if(t&&typeof t.ownKeys==="function"){a=t.ownKeys}else if(Object.getOwnPropertySymbols){a=function e(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}}else{a=function e(t){return Object.getOwnPropertyNames(t)}}function n(e){if(console&&console.warn)console.warn(e)}var i=Number.isNaN||function e(t){return t!==t};function u(){u.init.call(this)}e.exports=u;e.exports.once=_;u.EventEmitter=u;u.prototype._events=undefined;u.prototype._eventsCount=0;u.prototype._maxListeners=undefined;var s=10;function o(e){if(typeof e!=="function"){throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}}Object.defineProperty(u,"defaultMaxListeners",{enumerable:true,get:function(){return s},set:function(e){if(typeof e!=="number"||e<0||i(e)){throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".")}s=e}});u.init=function(){if(this._events===undefined||this._events===Object.getPrototypeOf(this)._events){this._events=Object.create(null);this._eventsCount=0}this._maxListeners=this._maxListeners||undefined};u.prototype.setMaxListeners=function e(t){if(typeof t!=="number"||t<0||i(t)){throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".")}this._maxListeners=t;return this};function f(e){if(e._maxListeners===undefined)return u.defaultMaxListeners;return e._maxListeners}u.prototype.getMaxListeners=function e(){return f(this)};u.prototype.emit=function e(t){var a=[];for(var n=1;n<arguments.length;n++)a.push(arguments[n]);var i=t==="error";var u=this._events;if(u!==undefined)i=i&&u.error===undefined;else if(!i)return false;if(i){var s;if(a.length>0)s=a[0];if(s instanceof Error){throw s}var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));o.context=s;throw o}var f=u[t];if(f===undefined)return false;if(typeof f==="function"){r(f,this,a)}else{var l=f.length;var d=h(f,l);for(var n=0;n<l;++n)r(d[n],this,a)}return true};function l(e,t,r,a){var i;var u;var s;o(r);u=e._events;if(u===undefined){u=e._events=Object.create(null);e._eventsCount=0}else{if(u.newListener!==undefined){e.emit("newListener",t,r.listener?r.listener:r);u=e._events}s=u[t]}if(s===undefined){s=u[t]=r;++e._eventsCount}else{if(typeof s==="function"){s=u[t]=a?[r,s]:[s,r]}else if(a){s.unshift(r)}else{s.push(r)}i=f(e);if(i>0&&s.length>i&&!s.warned){s.warned=true;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners "+"added. Use emitter.setMaxListeners() to "+"increase limit");l.name="MaxListenersExceededWarning";l.emitter=e;l.type=t;l.count=s.length;n(l)}}return e}u.prototype.addListener=function e(t,r){return l(this,t,r,false)};u.prototype.on=u.prototype.addListener;u.prototype.prependListener=function e(t,r){return l(this,t,r,true)};function d(){if(!this.fired){this.target.removeListener(this.type,this.wrapFn);this.fired=true;if(arguments.length===0)return this.listener.call(this.target);return this.listener.apply(this.target,arguments)}}function c(e,t,r){var a={fired:false,wrapFn:undefined,target:e,type:t,listener:r};var n=d.bind(a);n.listener=r;a.wrapFn=n;return n}u.prototype.once=function e(t,r){o(r);this.on(t,c(this,t,r));return this};u.prototype.prependOnceListener=function e(t,r){o(r);this.prependListener(t,c(this,t,r));return this};u.prototype.removeListener=function e(t,r){var a,n,i,u,s;o(r);n=this._events;if(n===undefined)return this;a=n[t];if(a===undefined)return this;if(a===r||a.listener===r){if(--this._eventsCount===0)this._events=Object.create(null);else{delete n[t];if(n.removeListener)this.emit("removeListener",t,a.listener||r)}}else if(typeof a!=="function"){i=-1;for(u=a.length-1;u>=0;u--){if(a[u]===r||a[u].listener===r){s=a[u].listener;i=u;break}}if(i<0)return this;if(i===0)a.shift();else{p(a,i)}if(a.length===1)n[t]=a[0];if(n.removeListener!==undefined)this.emit("removeListener",t,s||r)}return this};u.prototype.off=u.prototype.removeListener;u.prototype.removeAllListeners=function e(t){var r,a,n;a=this._events;if(a===undefined)return this;if(a.removeListener===undefined){if(arguments.length===0){this._events=Object.create(null);this._eventsCount=0}else if(a[t]!==undefined){if(--this._eventsCount===0)this._events=Object.create(null);else delete a[t]}return this}if(arguments.length===0){var i=Object.keys(a);var u;for(n=0;n<i.length;++n){u=i[n];if(u==="removeListener")continue;this.removeAllListeners(u)}this.removeAllListeners("removeListener");this._events=Object.create(null);this._eventsCount=0;return this}r=a[t];if(typeof r==="function"){this.removeListener(t,r)}else if(r!==undefined){for(n=r.length-1;n>=0;n--){this.removeListener(t,r[n])}}return this};function v(e,t,r){var a=e._events;if(a===undefined)return[];var n=a[t];if(n===undefined)return[];if(typeof n==="function")return r?[n.listener||n]:[n];return r?g(n):h(n,n.length)}u.prototype.listeners=function e(t){return v(this,t,true)};u.prototype.rawListeners=function e(t){return v(this,t,false)};u.listenerCount=function(e,t){if(typeof e.listenerCount==="function"){return e.listenerCount(t)}else{return m.call(e,t)}};u.prototype.listenerCount=m;function m(e){var t=this._events;if(t!==undefined){var r=t[e];if(typeof r==="function"){return 1}else if(r!==undefined){return r.length}}return 0}u.prototype.eventNames=function e(){return this._eventsCount>0?a(this._events):[]};function h(e,t){var r=new Array(t);for(var a=0;a<t;++a)r[a]=e[a];return r}function p(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function g(e){var t=new Array(e.length);for(var r=0;r<t.length;++r){t[r]=e[r].listener||e[r]}return t}function _(e,t){return new Promise((function(r,a){function n(r){e.removeListener(t,i);a(r)}function i(){if(typeof e.removeListener==="function"){e.removeListener("error",n)}r([].slice.call(arguments))}I(e,t,i,{once:true});if(t!=="error"){y(e,n,{once:true})}}))}function y(e,t,r){if(typeof e.on==="function"){I(e,"error",t,r)}}function I(e,t,r,a){if(typeof e.on==="function"){if(a.once){e.once(t,r)}else{e.on(t,r)}}else if(typeof e.addEventListener==="function"){e.addEventListener(t,(function n(i){if(a.once){e.removeEventListener(t,n)}r(i)}))}else{throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}}},366193:function(e){function t(e,t){var r=-1,a=e==null?0:e.length;while(++r<a){if(!t(e[r],r,e)){return false}}return true}e.exports=t},693239:function(e,t,r){var a=r(989881);function n(e,t){var r=true;a(e,(function(e,a,n){r=!!t(e,a,n);return r}));return r}e.exports=n},41848:function(e){function t(e,t,r,a){var n=e.length,i=r+(a?1:-1);while(a?i--:++i<n){if(t(e[i],i,e)){return i}}return-1}e.exports=t},442118:function(e,t,r){var a=r(41848),n=r(662722),i=r(142351);function u(e,t,r){return t===t?i(e,t,r):a(e,n,r)}e.exports=u},662722:function(e){function t(e){return e!==e}e.exports=t},747415:function(e,t,r){var a=r(829932);function n(e,t){return a(t,(function(t){return e[t]}))}e.exports=n},367740:function(e,t,r){var a=r(267206),n=r(498612),i=r(3674);function u(e){return function(t,r,u){var s=Object(t);if(!n(t)){var o=a(r,3);t=i(t);r=function(e){return o(s[e],e,s)}}var f=e(t,r,u);return f>-1?s[o?t[f]:f]:undefined}}e.exports=u},142351:function(e){function t(e,t,r){var a=r-1,n=e.length;while(++a<n){if(e[a]===t){return a}}return-1}e.exports=t},328583:function(e,t,r){var a=r(234865),n=r(698363),i=r(321463),u=r(498612),s=r(225726),o=r(3674);var f=Object.prototype;var l=f.hasOwnProperty;var d=i((function(e,t){if(s(t)||u(t)){n(t,o(t),e);return}for(var r in t){if(l.call(t,r)){a(e,r,t[r])}}}));e.exports=d},500711:function(e,t,r){var a=r(366193),n=r(693239),i=r(267206),u=r(701469),s=r(816612);function o(e,t,r){var o=u(e)?a:n;if(r&&s(e,t,r)){t=undefined}return o(e,i(t,3))}e.exports=o},313311:function(e,t,r){var a=r(367740),n=r(630998);var i=a(n);e.exports=i},630998:function(e,t,r){var a=r(41848),n=r(267206),i=r(640554);var u=Math.max;function s(e,t,r){var s=e==null?0:e.length;if(!s){return-1}var o=r==null?0:i(r);if(o<0){o=u(s+o,0)}return a(e,n(t,3),o)}e.exports=s},264721:function(e,t,r){var a=r(442118),n=r(498612),i=r(747037),u=r(640554),s=r(252628);var o=Math.max;function f(e,t,r,f){e=n(e)?e:s(e);r=r&&!f?u(r):0;var l=e.length;if(r<0){r=o(l+r,0)}return i(e)?r<=l&&e.indexOf(t,r)>-1:!!l&&a(e,t,r)>-1}e.exports=f},252628:function(e,t,r){var a=r(747415),n=r(3674);function i(e){return e==null?[]:a(e,n(e))}e.exports=i},451589:function(e,t,r){var a=r(285372);var n=r(379498);var i=r(386116);var u=r(312218);function s(e){return a(e)||n(e)||i(e)||u()}e.exports=s,e.exports.__esModule=true,e.exports["default"]=e.exports}}]);